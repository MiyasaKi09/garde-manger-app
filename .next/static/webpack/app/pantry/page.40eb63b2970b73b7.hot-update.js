"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/pantry/page",{

/***/ "(app-pages-browser)/./app/pantry/components/SmartAddForm.js":
/*!***********************************************!*\
  !*** ./app/pantry/components/SmartAddForm.js ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ SmartAddForm; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Archive_Calendar_Home_Package_Plus_Search_Snowflake_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,Calendar,Home,Package,Plus,Search,Snowflake,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_Archive_Calendar_Home_Package_Plus_Search_Snowflake_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,Calendar,Home,Package,Plus,Search,Snowflake,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Archive_Calendar_Home_Package_Plus_Search_Snowflake_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,Calendar,Home,Package,Plus,Search,Snowflake,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/archive.js\");\n/* harmony import */ var _barrel_optimize_names_Archive_Calendar_Home_Package_Plus_Search_Snowflake_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,Calendar,Home,Package,Plus,Search,Snowflake,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/house.js\");\n/* harmony import */ var _barrel_optimize_names_Archive_Calendar_Home_Package_Plus_Search_Snowflake_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,Calendar,Home,Package,Plus,Search,Snowflake,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/snowflake.js\");\n/* harmony import */ var _barrel_optimize_names_Archive_Calendar_Home_Package_Plus_Search_Snowflake_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Archive,Calendar,Home,Package,Plus,Search,Snowflake,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/auth-helpers-nextjs */ \"(app-pages-browser)/./node_modules/@supabase/auth-helpers-nextjs/dist/index.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_Toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../components/Toast */ \"(app-pages-browser)/./components/Toast.js\");\n/* harmony import */ var _SmartAddForm_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SmartAddForm.css */ \"(app-pages-browser)/./app/pantry/components/SmartAddForm.css\");\n// app/pantry/components/SmartAddForm.js\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n// Fonction pour calculer la distance de Levenshtein (détection des fautes de frappe)\nconst levenshteinDistance = (str1, str2)=>{\n    const matrix = [];\n    for(let i = 0; i <= str2.length; i++){\n        matrix[i] = [\n            i\n        ];\n    }\n    for(let j = 0; j <= str1.length; j++){\n        matrix[0][j] = j;\n    }\n    for(let i = 1; i <= str2.length; i++){\n        for(let j = 1; j <= str1.length; j++){\n            if (str2.charAt(i - 1) === str1.charAt(j - 1)) {\n                matrix[i][j] = matrix[i - 1][j - 1];\n            } else {\n                matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, matrix[i][j - 1] + 1, matrix[i - 1][j] + 1);\n            }\n        }\n    }\n    return matrix[str2.length][str1.length];\n};\n// Fonction pour formater proprement les noms de produits\nconst formatProductName = (name)=>{\n    if (!name) return \"\";\n    // Mots qui doivent rester en minuscules (articles, prépositions, etc.)\n    const lowercaseWords = [\n        \"de\",\n        \"du\",\n        \"des\",\n        \"le\",\n        \"la\",\n        \"les\",\n        \"au\",\n        \"aux\",\n        \"en\",\n        \"et\",\n        \"ou\",\n        \"\\xe0\",\n        \"avec\",\n        \"sans\",\n        \"pour\",\n        \"sur\",\n        \"sous\",\n        \"dans\",\n        \"par\"\n    ];\n    // Mots qui doivent avoir une capitalisation spéciale\n    const specialCases = {\n        \"aoc\": \"AOC\",\n        \"aop\": \"AOP\",\n        \"igp\": \"IGP\",\n        \"bio\": \"Bio\",\n        \"saint\": \"Saint\",\n        \"sainte\": \"Sainte\",\n        \"st\": \"St\",\n        \"ste\": \"Ste\"\n    };\n    // Nettoyer le nom d'abord (enlever les espaces multiples, etc.)\n    const cleanName = name.trim().replace(/\\s+/g, \" \");\n    return cleanName.toLowerCase().split(\" \").map((word, index)=>{\n        // Gérer les mots avec apostrophes (d', l', etc.)\n        if (word.includes(\"'\")) {\n            const parts = word.split(\"'\");\n            return parts.map((part, partIndex)=>{\n                if (partIndex === 0 && [\n                    \"d\",\n                    \"l\",\n                    \"c\",\n                    \"n\",\n                    \"s\",\n                    \"t\"\n                ].includes(part)) {\n                    return part; // garder d', l', etc. en minuscules\n                }\n                if (index === 0 || partIndex > 0) {\n                    return specialCases[part] || part.charAt(0).toUpperCase() + part.slice(1);\n                }\n                return lowercaseWords.includes(part) ? part : specialCases[part] || part.charAt(0).toUpperCase() + part.slice(1);\n            }).join(\"'\");\n        }\n        // Premier mot toujours capitalisé\n        if (index === 0) {\n            return specialCases[word] || word.charAt(0).toUpperCase() + word.slice(1);\n        }\n        // Mots spéciaux (AOC, AOP, Saint, etc.)\n        if (specialCases[word]) {\n            return specialCases[word];\n        }\n        // Mots qui restent en minuscules\n        if (lowercaseWords.includes(word)) {\n            return word;\n        }\n        // Autres mots : première lettre en majuscule\n        return word.charAt(0).toUpperCase() + word.slice(1);\n    }).join(\" \").trim();\n};\nfunction SmartAddForm(param) {\n    let { open, onClose, onLotCreated } = param;\n    _s();\n    const [step, setStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [searchLoading, setSearchLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedProduct, setSelectedProduct] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [categories, setCategories] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isTransitioning, setIsTransitioning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [lotData, setLotData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        qty_remaining: 1,\n        unit: \"unit\\xe9s\",\n        storage_method: \"pantry\",\n        storage_place: \"Garde-manger\",\n        expiration_date: \"\"\n    });\n    const modalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const searchInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const searchTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const supabase = (0,_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_2__.createClientComponentClient)();\n    // Charger les catégories et sous-catégories au montage\n    const [subcategories, setSubcategories] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadCategoriesData = async ()=>{\n            try {\n                // Charger les catégories principales\n                const { data: categoriesData } = await supabase.from(\"reference_categories\").select(\"id, name, icon, color_hex\").order(\"sort_priority\");\n                // Charger les sous-catégories\n                const { data: subcategoriesData } = await supabase.from(\"reference_subcategories\").select(\"id, category_id, code, label, icon\");\n                if (categoriesData) {\n                    setCategories(categoriesData);\n                }\n                if (subcategoriesData) {\n                    setSubcategories(subcategoriesData);\n                }\n            } catch (error) {\n                console.log(\"Erreur chargement cat\\xe9gories:\", error);\n            }\n        };\n        loadCategoriesData();\n    }, [\n        supabase\n    ]);\n    // Reset quand on ouvre le modal\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (open) {\n            setStep(1);\n            setSearchQuery(\"\");\n            setSearchResults([]);\n            setSelectedProduct(null);\n            setLotData({\n                qty_remaining: 1,\n                unit: \"unit\\xe9s\",\n                storage_method: \"pantry\",\n                storage_place: \"Garde-manger\",\n                expiration_date: \"\"\n            });\n            setTimeout(()=>{\n                var _searchInputRef_current;\n                (_searchInputRef_current = searchInputRef.current) === null || _searchInputRef_current === void 0 ? void 0 : _searchInputRef_current.focus();\n            }, 100);\n        }\n    }, [\n        open\n    ]);\n    // Obtenir l'icône de la catégorie\n    const getCategoryIcon = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((categoryId, productName)=>{\n        // PRIORITÉ AU NOM DU PRODUIT (avant la catégorie)\n        if (productName) {\n            const nameLower = productName.toLowerCase();\n            // Fromages PREMIER (pour éviter confusion avec champignons)\n            if (nameLower.includes(\"camembert\") || nameLower.includes(\"brie\") || nameLower.includes(\"roquefort\") || nameLower.includes(\"rocamadour\") || nameLower.includes(\"gruy\\xe8re\") || nameLower.includes(\"emmental\") || nameLower.includes(\"fromage\")) {\n                return \"\\uD83E\\uDDC0\";\n            }\n        }\n        if (categoryId && categories.length > 0) {\n            const category = categories.find((cat)=>cat.id === categoryId);\n            if (category === null || category === void 0 ? void 0 : category.icon) return category.icon;\n        }\n        // Icônes par défaut basées sur le nom\n        const nameIcons = {\n            // Fromages (priorité)\n            \"camembert\": \"\\uD83E\\uDDC0\",\n            \"brie\": \"\\uD83E\\uDDC0\",\n            \"roquefort\": \"\\uD83E\\uDDC0\",\n            \"gruy\\xe8re\": \"\\uD83E\\uDDC0\",\n            \"emmental\": \"\\uD83E\\uDDC0\",\n            \"cheddar\": \"\\uD83E\\uDDC0\",\n            \"mozzarella\": \"\\uD83E\\uDDC0\",\n            \"parmesan\": \"\\uD83E\\uDDC0\",\n            \"ch\\xe8vre\": \"\\uD83E\\uDDC0\",\n            \"feta\": \"\\uD83E\\uDDC0\",\n            \"bleu\": \"\\uD83E\\uDDC0\",\n            \"comt\\xe9\": \"\\uD83E\\uDDC0\",\n            \"fromage\": \"\\uD83E\\uDDC0\",\n            // Fruits et légumes\n            \"tomate\": \"\\uD83C\\uDF45\",\n            \"pomme\": \"\\uD83C\\uDF4E\",\n            \"carotte\": \"\\uD83E\\uDD55\",\n            \"pomme de terre\": \"\\uD83E\\uDD54\",\n            \"banane\": \"\\uD83C\\uDF4C\",\n            \"fraise\": \"\\uD83C\\uDF53\",\n            \"orange\": \"\\uD83C\\uDF4A\",\n            \"citron\": \"\\uD83C\\uDF4B\",\n            \"brocoli\": \"\\uD83E\\uDD66\",\n            \"oignon\": \"\\uD83E\\uDDC5\",\n            \"ail\": \"�\",\n            \"salade\": \"�\",\n            \"courgette\": \"\\uD83E\\uDD52\",\n            \"aubergine\": \"�\",\n            \"poivron\": \"\\uD83E\\uDED1\",\n            \"radis\": \"\\uD83E\\uDD55\",\n            // Champignons (séparés des fromages)\n            \"champignon\": \"\\uD83C\\uDF44\",\n            \"shiitake\": \"\\uD83C\\uDF44\",\n            \"c\\xe8pe\": \"\\uD83C\\uDF44\",\n            \"mousseron\": \"\\uD83C\\uDF44\",\n            // Produits laitiers\n            \"lait\": \"\\uD83E\\uDD5B\",\n            \"yaourt\": \"\\uD83E\\uDD5B\",\n            \"cr\\xe8me\": \"\\uD83E\\uDD5B\",\n            \"beurre\": \"�\",\n            // Protéines\n            \"oeuf\": \"\\uD83E\\uDD5A\",\n            \"viande\": \"\\uD83E\\uDD69\",\n            \"boeuf\": \"\\uD83E\\uDD69\",\n            \"porc\": \"\\uD83E\\uDD69\",\n            \"poulet\": \"\\uD83C\\uDF57\",\n            \"poisson\": \"\\uD83D\\uDC1F\",\n            \"saumon\": \"\\uD83D\\uDC1F\",\n            \"thon\": \"\\uD83D\\uDC1F\",\n            // Féculents et céréales\n            \"pain\": \"\\uD83C\\uDF5E\",\n            \"riz\": \"\\uD83C\\uDF5A\",\n            \"p\\xe2tes\": \"\\uD83C\\uDF5D\",\n            \"bl\\xe9\": \"\\uD83C\\uDF3E\",\n            \"quinoa\": \"\\uD83C\\uDF3E\",\n            \"avoine\": \"\\uD83C\\uDF3E\",\n            \"orge\": \"\\uD83C\\uDF3E\"\n        };\n        if (productName) {\n            const nameLower = productName.toLowerCase();\n            for (const [key, icon] of Object.entries(nameIcons)){\n                if (nameLower.includes(key)) return icon;\n            }\n        }\n        return \"\\uD83D\\uDCE6\";\n    }, [\n        categories\n    ]);\n    // Obtenir le nom et la classe CSS de la catégorie\n    const getCategoryInfo = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(categoryId) {\n        let subcategoryId = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, productName = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n        // PRIORITÉ AU NOM DU PRODUIT pour corriger les erreurs de catégorisation\n        if (productName) {\n            const nameLower = productName.toLowerCase();\n            // Fromages\n            if (nameLower.includes(\"camembert\") || nameLower.includes(\"brie\") || nameLower.includes(\"roquefort\") || nameLower.includes(\"rocamadour\") || nameLower.includes(\"gruy\\xe8re\") || nameLower.includes(\"emmental\") || nameLower.includes(\"fromage\")) {\n                return {\n                    name: \"Fromages\",\n                    class: \"category-fromages\"\n                };\n            }\n            // Champignons\n            if (nameLower.includes(\"champignon\") || nameLower.includes(\"shiitake\") || nameLower.includes(\"c\\xe8pe\") || nameLower.includes(\"mousseron\")) {\n                return {\n                    name: \"Champignons\",\n                    class: \"category-champignons\"\n                };\n            }\n            // Viandes\n            if (nameLower.includes(\"viande\") || nameLower.includes(\"poulet\") || nameLower.includes(\"boeuf\")) {\n                return {\n                    name: \"Viandes\",\n                    class: \"category-viandes\"\n                };\n            }\n            // Féculents\n            if (nameLower.includes(\"p\\xe2tes\") || nameLower.includes(\"riz\") || nameLower.includes(\"pain\") || nameLower.includes(\"pomme de terre\") || nameLower.includes(\"quinoa\") || nameLower.includes(\"bl\\xe9\")) {\n                return {\n                    name: \"F\\xe9culents\",\n                    class: \"category-feculents\"\n                };\n            }\n        }\n        // Fallback sur les vraies données de catégorisation\n        if (subcategoryId && subcategories.length > 0) {\n            const subcategory = subcategories.find((sub)=>sub.id === subcategoryId);\n            if (subcategory === null || subcategory === void 0 ? void 0 : subcategory.label) {\n                return {\n                    name: subcategory.label,\n                    class: \"category-default\"\n                };\n            }\n        }\n        if (categoryId && categories.length > 0) {\n            const category = categories.find((cat)=>cat.id === categoryId);\n            if (category === null || category === void 0 ? void 0 : category.name) {\n                // Mapping des catégories principales vers les classes CSS\n                const categoryMapping = {\n                    \"Fruits\": \"category-fruits\",\n                    \"L\\xe9gumes\": \"category-legumes\",\n                    \"Champignons\": \"category-champignons\"\n                };\n                return {\n                    name: category.name,\n                    class: categoryMapping[category.name] || \"category-default\"\n                };\n            }\n        }\n        return {\n            name: \"Alimentation\",\n            class: \"category-default\"\n        };\n    }, [\n        categories,\n        subcategories\n    ]);\n    // Calculer la date d'expiration par défaut\n    const getDefaultExpirationDate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((product, storageMethod)=>{\n        let days = 7;\n        if (product) {\n            if (storageMethod === \"fridge\") {\n                days = product.shelf_life_days_fridge || 7;\n            } else if (storageMethod === \"freezer\") {\n                days = product.shelf_life_days_freezer || 90;\n            } else {\n                days = product.shelf_life_days_pantry || 30;\n            }\n        }\n        const date = new Date();\n        date.setDate(date.getDate() + days);\n        return date.toISOString().split(\"T\")[0];\n    }, []);\n    // Recherche de produits améliorée avec transitions smooth\n    const performSearch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (query)=>{\n        // Démarrer la transition smooth\n        setIsTransitioning(true);\n        setSearchLoading(true);\n        // Petit délai pour permettre l'animation de sortie si des résultats existent\n        if (searchResults.length > 0) {\n            await new Promise((resolve)=>setTimeout(resolve, 150));\n        }\n        const q = (query || \"\").trim().toLowerCase();\n        try {\n            // Si pas de query, prendre les 5 produits les plus populaires\n            if (!q || q.length === 0) {\n                const { data: topProducts } = await supabase.from(\"canonical_foods\").select(\"\\n            id, canonical_name, category_id, subcategory_id, keywords, primary_unit,\\n            shelf_life_days_pantry, shelf_life_days_fridge, shelf_life_days_freezer\\n          \").order(\"id\").limit(3);\n                if (topProducts) {\n                    const results = topProducts.map((food)=>({\n                            id: food.id,\n                            name: food.canonical_name,\n                            type: \"canonical\",\n                            category_id: food.category_id,\n                            subcategory_id: food.subcategory_id,\n                            matchScore: 50,\n                            primary_unit: food.primary_unit || \"unit\\xe9s\",\n                            shelf_life_days_pantry: food.shelf_life_days_pantry,\n                            shelf_life_days_fridge: food.shelf_life_days_fridge,\n                            shelf_life_days_freezer: food.shelf_life_days_freezer,\n                            icon: getCategoryIcon(food.category_id, food.canonical_name)\n                        })).slice(0, 3); // Limiter à 3 suggestions\n                    setSearchResults(results);\n                }\n                setSearchLoading(false);\n                return;\n            }\n            const allResults = [];\n            const seenNames = new Set();\n            // 1. Recherche dans canonical_foods avec plusieurs techniques\n            // Recherche directe avec informations de sous-catégorie\n            const { data: canonicalFoods } = await supabase.from(\"canonical_foods\").select(\"\\n          id, canonical_name, category_id, subcategory_id, keywords, primary_unit,\\n          shelf_life_days_pantry, shelf_life_days_fridge, shelf_life_days_freezer\\n        \").or(\"canonical_name.ilike.%\".concat(q, \"%,keywords.cs.{\").concat(q, \"}\")).limit(20);\n            const allCanonical = canonicalFoods || [];\n            if (allCanonical) {\n                allCanonical.forEach((food)=>{\n                    if (!seenNames.has(food.canonical_name.toLowerCase())) {\n                        allResults.push({\n                            ...food,\n                            type: \"canonical\",\n                            source_name: food.canonical_name,\n                            subcategory_id: food.subcategory_id\n                        });\n                        seenNames.add(food.canonical_name.toLowerCase());\n                    }\n                });\n            }\n            // 2. Recherche dans archetypes\n            try {\n                const { data: archetypes } = await supabase.from(\"archetypes\").select(\"\\n            id, name, canonical_food_id, shelf_life_days,\\n            canonical_foods!inner(canonical_name, category_id, primary_unit, keywords)\\n          \").ilike(\"name\", \"%\".concat(q, \"%\")).limit(20);\n                if (archetypes) {\n                    archetypes.forEach((archetype)=>{\n                        const name = archetype.name.toLowerCase();\n                        if (!seenNames.has(name)) {\n                            var _archetype_canonical_foods, _archetype_canonical_foods1, _archetype_canonical_foods2;\n                            allResults.push({\n                                id: \"arch_\".concat(archetype.id),\n                                canonical_name: archetype.name,\n                                category_id: (_archetype_canonical_foods = archetype.canonical_foods) === null || _archetype_canonical_foods === void 0 ? void 0 : _archetype_canonical_foods.category_id,\n                                primary_unit: ((_archetype_canonical_foods1 = archetype.canonical_foods) === null || _archetype_canonical_foods1 === void 0 ? void 0 : _archetype_canonical_foods1.primary_unit) || \"unit\\xe9s\",\n                                shelf_life_days_pantry: archetype.shelf_life_days,\n                                shelf_life_days_fridge: archetype.shelf_life_days,\n                                shelf_life_days_freezer: archetype.shelf_life_days * 10,\n                                keywords: (_archetype_canonical_foods2 = archetype.canonical_foods) === null || _archetype_canonical_foods2 === void 0 ? void 0 : _archetype_canonical_foods2.keywords,\n                                type: \"archetype\",\n                                source_name: archetype.name\n                            });\n                            seenNames.add(name);\n                        }\n                    });\n                }\n            } catch (error) {\n                console.log(\"Pas de table archetypes:\", error);\n            }\n            // 3. Recherche dans cultivars\n            try {\n                const { data: cultivars } = await supabase.from(\"cultivars\").select(\"\\n            id, name, canonical_food_id,\\n            canonical_foods!inner(canonical_name, category_id, primary_unit, keywords,\\n              shelf_life_days_pantry, shelf_life_days_fridge, shelf_life_days_freezer)\\n          \").ilike(\"name\", \"%\".concat(q, \"%\")).limit(20);\n                if (cultivars) {\n                    cultivars.forEach((cultivar)=>{\n                        const name = cultivar.name.toLowerCase();\n                        if (!seenNames.has(name)) {\n                            var _cultivar_canonical_foods, _cultivar_canonical_foods1, _cultivar_canonical_foods2, _cultivar_canonical_foods3, _cultivar_canonical_foods4, _cultivar_canonical_foods5;\n                            allResults.push({\n                                id: \"cult_\".concat(cultivar.id),\n                                canonical_name: cultivar.name,\n                                category_id: (_cultivar_canonical_foods = cultivar.canonical_foods) === null || _cultivar_canonical_foods === void 0 ? void 0 : _cultivar_canonical_foods.category_id,\n                                primary_unit: ((_cultivar_canonical_foods1 = cultivar.canonical_foods) === null || _cultivar_canonical_foods1 === void 0 ? void 0 : _cultivar_canonical_foods1.primary_unit) || \"unit\\xe9s\",\n                                shelf_life_days_pantry: (_cultivar_canonical_foods2 = cultivar.canonical_foods) === null || _cultivar_canonical_foods2 === void 0 ? void 0 : _cultivar_canonical_foods2.shelf_life_days_pantry,\n                                shelf_life_days_fridge: (_cultivar_canonical_foods3 = cultivar.canonical_foods) === null || _cultivar_canonical_foods3 === void 0 ? void 0 : _cultivar_canonical_foods3.shelf_life_days_fridge,\n                                shelf_life_days_freezer: (_cultivar_canonical_foods4 = cultivar.canonical_foods) === null || _cultivar_canonical_foods4 === void 0 ? void 0 : _cultivar_canonical_foods4.shelf_life_days_freezer,\n                                keywords: (_cultivar_canonical_foods5 = cultivar.canonical_foods) === null || _cultivar_canonical_foods5 === void 0 ? void 0 : _cultivar_canonical_foods5.keywords,\n                                type: \"cultivar\",\n                                source_name: cultivar.name\n                            });\n                            seenNames.add(name);\n                        }\n                    });\n                }\n            } catch (error) {\n                console.log(\"Pas de table cultivars:\", error);\n            }\n            // 4. Scorer les résultats avec recherche floue\n            const scoredResults = allResults.map((item)=>{\n                const nameLower = item.source_name.toLowerCase();\n                let matchScore = 0;\n                // Score exact\n                if (nameLower === q) {\n                    matchScore = 100;\n                } else if (nameLower.startsWith(q)) {\n                    matchScore = 90;\n                } else if (nameLower.includes(q)) {\n                    matchScore = 70;\n                } else {\n                    const distance = levenshteinDistance(q, nameLower);\n                    const maxLength = Math.max(q.length, nameLower.length);\n                    const minLength = Math.min(q.length, nameLower.length);\n                    const similarity = (maxLength - distance) / maxLength;\n                    // Plus strict : seuil à 70% et vérification de longueur similaire\n                    if (similarity > 0.7 && Math.abs(q.length - nameLower.length) <= 2) {\n                        matchScore = Math.floor(similarity * 60);\n                        // Bonus spécial pour \"camambert\" → \"camembert\" (substitution m/me)\n                        if (q === \"camambert\" && nameLower === \"camembert\") {\n                            matchScore = 90;\n                        }\n                    }\n                }\n                // Bonus pour mots-clés\n                if (item.keywords && Array.isArray(item.keywords)) {\n                    const hasKeyword = item.keywords.some((keyword)=>keyword.toLowerCase().includes(q) || levenshteinDistance(q, keyword.toLowerCase()) <= 2);\n                    if (hasKeyword) matchScore += 15;\n                }\n                // Bonus par type\n                if (item.type === \"canonical\") matchScore += 5;\n                else if (item.type === \"cultivar\") matchScore += 3;\n                return {\n                    id: item.id,\n                    name: item.source_name,\n                    type: item.type,\n                    category_id: item.category_id,\n                    subcategory_id: item.subcategory_id,\n                    matchScore,\n                    primary_unit: item.primary_unit || \"unit\\xe9s\",\n                    shelf_life_days_pantry: item.shelf_life_days_pantry || 30,\n                    shelf_life_days_fridge: item.shelf_life_days_fridge || 7,\n                    shelf_life_days_freezer: item.shelf_life_days_freezer || 90,\n                    icon: getCategoryIcon(item.category_id, item.source_name)\n                };\n            });\n            // Filtrer les résultats avec score > 0 et trier\n            let finalResults = scoredResults.filter((r)=>r.matchScore > 0).sort((a, b)=>b.matchScore - a.matchScore).slice(0, 3); // Réduire à 3 suggestions\n            // Si moins de 3 résultats, compléter avec les plus populaires\n            if (finalResults.length < 3) {\n                const { data: topProducts } = await supabase.from(\"canonical_foods\").select(\"\\n            id, canonical_name, category_id, primary_unit,\\n            shelf_life_days_pantry, shelf_life_days_fridge, shelf_life_days_freezer\\n          \").order(\"id\").limit(3 - finalResults.length);\n                if (topProducts) {\n                    const existingNames = new Set(finalResults.map((r)=>r.name.toLowerCase()));\n                    topProducts.forEach((food)=>{\n                        if (!existingNames.has(food.canonical_name.toLowerCase())) {\n                            finalResults.push({\n                                id: food.id,\n                                name: food.canonical_name,\n                                type: \"canonical\",\n                                category_id: food.category_id,\n                                matchScore: 25,\n                                primary_unit: food.primary_unit || \"unit\\xe9s\",\n                                shelf_life_days_pantry: food.shelf_life_days_pantry || 30,\n                                shelf_life_days_fridge: food.shelf_life_days_fridge || 7,\n                                shelf_life_days_freezer: food.shelf_life_days_freezer || 90,\n                                icon: getCategoryIcon(food.category_id, food.canonical_name)\n                            });\n                        }\n                    });\n                }\n            }\n            // Transition smooth pour l'apparition des nouveaux résultats\n            setTimeout(()=>{\n                setSearchResults(finalResults.slice(0, 3));\n                setIsTransitioning(false);\n            }, 100);\n        } catch (error) {\n            console.error(\"Erreur recherche:\", error);\n            // En cas d'erreur, essayons une recherche basique\n            try {\n                const { data: fallbackProducts } = await supabase.from(\"canonical_foods\").select(\"id, canonical_name, category_id, primary_unit\").limit(3);\n                if (fallbackProducts) {\n                    const results = fallbackProducts.map((food)=>({\n                            id: food.id,\n                            name: food.canonical_name,\n                            type: \"canonical\",\n                            category_id: food.category_id,\n                            matchScore: 20,\n                            primary_unit: food.primary_unit || \"unit\\xe9s\",\n                            shelf_life_days_pantry: 30,\n                            shelf_life_days_fridge: 7,\n                            shelf_life_days_freezer: 90,\n                            icon: getCategoryIcon(food.category_id, food.canonical_name)\n                        }));\n                    setTimeout(()=>{\n                        setSearchResults(results);\n                        setIsTransitioning(false);\n                    }, 100);\n                }\n            } catch (fallbackError) {\n                console.error(\"Erreur fallback:\", fallbackError);\n                setTimeout(()=>{\n                    setSearchResults([]);\n                    setIsTransitioning(false);\n                }, 100);\n            }\n        } finally{\n            setSearchLoading(false);\n        }\n    }, [\n        supabase,\n        getCategoryIcon,\n        searchResults.length\n    ]);\n    // Charger les suggestions initiales quand le modal s'ouvre\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (open && step === 1) {\n            setTimeout(()=>{\n                performSearch(\"\");\n            }, 200);\n        }\n    }, [\n        open,\n        step,\n        performSearch\n    ]);\n    // Debounce de la recherche\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (searchTimeoutRef.current) {\n            clearTimeout(searchTimeoutRef.current);\n        }\n        searchTimeoutRef.current = setTimeout(()=>{\n            performSearch(searchQuery);\n        }, searchQuery.length === 0 ? 0 : 300);\n        return ()=>{\n            if (searchTimeoutRef.current) {\n                clearTimeout(searchTimeoutRef.current);\n            }\n        };\n    }, [\n        searchQuery,\n        performSearch\n    ]);\n    // Incrémentation intelligente\n    const getIncrementValue = (unit)=>{\n        switch(unit){\n            case \"kg\":\n                return 0.1;\n            case \"g\":\n                return 100;\n            case \"ml\":\n            case \"cl\":\n                return 100;\n            case \"L\":\n                return 0.5;\n            case \"unit\\xe9s\":\n            default:\n                return 0.5;\n        }\n    };\n    // Ajuster la quantité\n    const adjustQuantity = (direction)=>{\n        const increment = getIncrementValue(lotData.unit);\n        const currentQty = parseFloat(lotData.qty_remaining) || 0;\n        let newQty;\n        if (direction === \"up\") {\n            newQty = currentQty + increment;\n        } else {\n            newQty = Math.max(increment, currentQty - increment);\n        }\n        if (lotData.unit === \"kg\") {\n            newQty = Math.round(newQty * 10) / 10;\n        } else if (lotData.unit === \"unit\\xe9s\") {\n            newQty = Math.round(newQty * 2) / 2;\n        }\n        setLotData((prev)=>({\n                ...prev,\n                qty_remaining: newQty\n            }));\n    };\n    const handleProductSelect = (product)=>{\n        setSelectedProduct(product);\n        const preferredUnit = product.primary_unit || \"unit\\xe9s\";\n        const defaultExpiration = getDefaultExpirationDate(product, lotData.storage_method);\n        setLotData((prev)=>({\n                ...prev,\n                unit: preferredUnit,\n                qty_remaining: 1,\n                expiration_date: defaultExpiration\n            }));\n        setStep(2);\n    };\n    const handleStorageMethodChange = (method)=>{\n        let place = \"Garde-manger\";\n        if (method === \"fridge\") place = \"R\\xe9frig\\xe9rateur\";\n        if (method === \"freezer\") place = \"Cong\\xe9lateur\";\n        const newExpiration = getDefaultExpirationDate(selectedProduct, method);\n        setLotData((prev)=>({\n                ...prev,\n                storage_method: method,\n                storage_place: place,\n                expiration_date: newExpiration\n            }));\n    };\n    const handleCreateLot = async ()=>{\n        if (!selectedProduct || !lotData.qty_remaining) {\n            _components_Toast__WEBPACK_IMPORTED_MODULE_3__.toast.warning(\"Veuillez s\\xe9lectionner un produit et entrer une quantit\\xe9\");\n            return;\n        }\n        setLoading(true);\n        try {\n            const quantity = parseFloat(lotData.qty_remaining) || 1;\n            // Déterminer le type de produit et convertir l'ID en entier\n            let productType = \"canonical\";\n            let productId = null;\n            if (selectedProduct.type === \"cultivar\") {\n                productType = \"cultivar\";\n                // Extraire l'ID numérique du format \"cult_123\"\n                const idStr = selectedProduct.id.toString().replace(\"cult_\", \"\");\n                productId = parseInt(idStr, 10);\n            } else if (selectedProduct.type === \"archetype\") {\n                productType = \"archetype\";\n                // Extraire l'ID numérique du format \"arch_123\"\n                const idStr = selectedProduct.id.toString().replace(\"arch_\", \"\");\n                productId = parseInt(idStr, 10);\n            } else if (selectedProduct.type === \"custom\") {\n                productType = \"custom\";\n                productId = null; // Pour les produits custom, on utilisera les notes\n            } else {\n                // Type 'canonical' - convertir l'ID en entier\n                productType = \"canonical\";\n                productId = parseInt(selectedProduct.id, 10);\n            }\n            // Préparer les données pour la nouvelle structure inventory_lots\n            const lotDataToInsert = {\n                product_type: productType,\n                product_id: productId,\n                qty_remaining: quantity,\n                initial_qty: quantity,\n                unit: lotData.unit,\n                storage_method: lotData.storage_method,\n                storage_place: lotData.storage_place,\n                expiration_date: lotData.expiration_date || null,\n                acquired_on: new Date().toISOString().split(\"T\")[0],\n                notes: selectedProduct.type === \"custom\" ? selectedProduct.name : null\n            };\n            console.log(\"Donn\\xe9es \\xe0 ins\\xe9rer:\", lotDataToInsert);\n            const { data: createdLot, error } = await supabase.from(\"inventory_lots\").insert([\n                lotDataToInsert\n            ]).select().single();\n            if (error) {\n                console.error(\"Erreur Supabase:\", error);\n                _components_Toast__WEBPACK_IMPORTED_MODULE_3__.toast.error(\"Erreur lors de la cr\\xe9ation: \".concat(error.message));\n                return;\n            }\n            console.log(\"Lot cr\\xe9\\xe9:\", createdLot);\n            _components_Toast__WEBPACK_IMPORTED_MODULE_3__.toast.success(\"\".concat(formatProductName(selectedProduct.name), \" ajout\\xe9 au garde-manger !\"));\n            onLotCreated === null || onLotCreated === void 0 ? void 0 : onLotCreated(createdLot);\n            onClose();\n        } catch (error) {\n            console.error(\"Erreur cr\\xe9ation lot:\", error);\n            _components_Toast__WEBPACK_IMPORTED_MODULE_3__.toast.error(\"Erreur lors de la cr\\xe9ation du lot\");\n        } finally{\n            setLoading(false);\n        }\n    };\n    if (!open) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"modal-overlay\",\n        onClick: onClose,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            ref: modalRef,\n            className: \"modal-container\",\n            onClick: (e)=>e.stopPropagation(),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"modal-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"header-title\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Archive_Calendar_Home_Package_Plus_Search_Snowflake_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    size: 20\n                                }, void 0, false, {\n                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                    lineNumber: 780,\n                                    columnNumber: 13\n                                }, this),\n                                \"Ajouter un produit\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                            lineNumber: 779,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"close-btn\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Archive_Calendar_Home_Package_Plus_Search_Snowflake_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                size: 18\n                            }, void 0, false, {\n                                fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                lineNumber: 784,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                            lineNumber: 783,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                    lineNumber: 778,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"modal-body\",\n                    children: [\n                        step === 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"search-section\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"search-wrapper\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ref: searchInputRef,\n                                            type: \"text\",\n                                            placeholder: \"Rechercher un produit...\",\n                                            value: searchQuery,\n                                            onChange: (e)=>setSearchQuery(e.target.value),\n                                            className: \"search-input\"\n                                        }, void 0, false, {\n                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                            lineNumber: 793,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                        lineNumber: 792,\n                                        columnNumber: 17\n                                    }, this),\n                                    searchLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"search-loading\",\n                                        children: \"Recherche...\"\n                                    }, void 0, false, {\n                                        fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                        lineNumber: 804,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"search-results \".concat(isTransitioning ? \"transitioning\" : \"\"),\n                                        children: [\n                                            searchResults.map((product)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"product-item\",\n                                                    onClick: ()=>handleProductSelect(product),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"product-icon\",\n                                                            children: product.icon\n                                                        }, void 0, false, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 814,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"product-info\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"product-name\",\n                                                                    children: formatProductName(product.name)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                                    lineNumber: 816,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"product-category-badge \".concat(getCategoryInfo(product.category_id, product.subcategory_id, product.name).class),\n                                                                    children: getCategoryInfo(product.category_id, product.subcategory_id, product.name).name\n                                                                }, void 0, false, {\n                                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                                    lineNumber: 817,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 815,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, \"\".concat(product.type, \"-\").concat(product.id), true, {\n                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                    lineNumber: 809,\n                                                    columnNumber: 21\n                                                }, this)),\n                                            !searchLoading && searchResults.length === 0 && searchQuery && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"no-results\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            'Aucun produit trouv\\xe9 pour \"',\n                                                            searchQuery,\n                                                            '\"'\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                        lineNumber: 825,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"no-results-tip\",\n                                                        children: \"Voulez-vous cr\\xe9er ce produit ?\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                        lineNumber: 826,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>handleProductSelect({\n                                                                id: \"custom\",\n                                                                name: searchQuery,\n                                                                type: \"custom\",\n                                                                category_id: null,\n                                                                primary_unit: \"unit\\xe9s\",\n                                                                shelf_life_days_pantry: 7,\n                                                                shelf_life_days_fridge: 7,\n                                                                shelf_life_days_freezer: 90,\n                                                                icon: \"\\uD83D\\uDCE6\"\n                                                            }),\n                                                        className: \"create-custom-btn\",\n                                                        children: [\n                                                            '✨ Cr\\xe9er \"',\n                                                            searchQuery,\n                                                            '\"'\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                        lineNumber: 829,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                lineNumber: 824,\n                                                columnNumber: 21\n                                            }, this),\n                                            !searchLoading && searchResults.length === 0 && !searchQuery && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"no-results\",\n                                                children: \"Chargement des suggestions...\"\n                                            }, void 0, false, {\n                                                fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                lineNumber: 848,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                        lineNumber: 807,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                lineNumber: 791,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false),\n                        step === 2 && selectedProduct && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"selected-product-card\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"product-icon-large\",\n                                            children: getCategoryIcon(selectedProduct.category_id, selectedProduct.name)\n                                        }, void 0, false, {\n                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                            lineNumber: 860,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"product-details\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"product-name\",\n                                                    children: formatProductName(selectedProduct.name)\n                                                }, void 0, false, {\n                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                    lineNumber: 864,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"product-category\",\n                                                    children: selectedProduct.subcategory || \"G\\xe9n\\xe9ral\"\n                                                }, void 0, false, {\n                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                    lineNumber: 865,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                            lineNumber: 863,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setStep(1),\n                                            className: \"change-btn\",\n                                            children: \"Changer\"\n                                        }, void 0, false, {\n                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                            lineNumber: 869,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                    lineNumber: 859,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"form-section\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"quantity-section\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    children: \"Quantit\\xe9\"\n                                                }, void 0, false, {\n                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                    lineNumber: 876,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"quantity-controls\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>adjustQuantity(\"down\"),\n                                                            className: \"qty-btn\",\n                                                            children: \"-\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 878,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"number\",\n                                                            value: lotData.qty_remaining,\n                                                            onChange: (e)=>setLotData((prev)=>({\n                                                                        ...prev,\n                                                                        qty_remaining: parseFloat(e.target.value) || 0\n                                                                    })),\n                                                            className: \"qty-input\",\n                                                            step: getIncrementValue(lotData.unit),\n                                                            min: \"0\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 884,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>adjustQuantity(\"up\"),\n                                                            className: \"qty-btn\",\n                                                            children: \"+\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 892,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                    lineNumber: 877,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                            lineNumber: 875,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"unit-section\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    children: \"Unit\\xe9\"\n                                                }, void 0, false, {\n                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                    lineNumber: 902,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                    value: lotData.unit,\n                                                    onChange: (e)=>setLotData((prev)=>({\n                                                                ...prev,\n                                                                unit: e.target.value\n                                                            })),\n                                                    className: \"unit-select\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"unit\\xe9s\",\n                                                            children: \"Unit\\xe9s\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 908,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"kg\",\n                                                            children: \"Kilogrammes\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 909,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"g\",\n                                                            children: \"Grammes\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 910,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"L\",\n                                                            children: \"Litres\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 911,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"ml\",\n                                                            children: \"Millilitres\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 912,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"cl\",\n                                                            children: \"Centilitres\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 913,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                    lineNumber: 903,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                            lineNumber: 901,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"storage-section\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    children: \"Stockage\"\n                                                }, void 0, false, {\n                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                    lineNumber: 918,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"storage-methods\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>handleStorageMethodChange(\"pantry\"),\n                                                            className: \"storage-btn \".concat(lotData.storage_method === \"pantry\" ? \"active\" : \"\"),\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Archive_Calendar_Home_Package_Plus_Search_Snowflake_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                                    size: 16\n                                                                }, void 0, false, {\n                                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                                    lineNumber: 924,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                \"Garde-manger\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 920,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>handleStorageMethodChange(\"fridge\"),\n                                                            className: \"storage-btn \".concat(lotData.storage_method === \"fridge\" ? \"active\" : \"\"),\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Archive_Calendar_Home_Package_Plus_Search_Snowflake_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                    size: 16\n                                                                }, void 0, false, {\n                                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                                    lineNumber: 931,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                \"Frigo\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 927,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>handleStorageMethodChange(\"freezer\"),\n                                                            className: \"storage-btn \".concat(lotData.storage_method === \"freezer\" ? \"active\" : \"\"),\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Archive_Calendar_Home_Package_Plus_Search_Snowflake_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                                    size: 16\n                                                                }, void 0, false, {\n                                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                                    lineNumber: 938,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                \"Cong\\xe9lateur\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 934,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                    lineNumber: 919,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                            lineNumber: 917,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"expiration-section\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    children: \"Date d'expiration\"\n                                                }, void 0, false, {\n                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                    lineNumber: 945,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"expiration-input\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Archive_Calendar_Home_Package_Plus_Search_Snowflake_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                            size: 16,\n                                                            className: \"calendar-icon\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 947,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"date\",\n                                                            value: lotData.expiration_date,\n                                                            onChange: (e)=>setLotData((prev)=>({\n                                                                        ...prev,\n                                                                        expiration_date: e.target.value\n                                                                    })),\n                                                            className: \"date-input\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                            lineNumber: 948,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                                    lineNumber: 946,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                            lineNumber: 944,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                    lineNumber: 874,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                    lineNumber: 788,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"modal-footer\",\n                    children: step === 2 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setStep(1),\n                                className: \"back-btn\",\n                                children: \"Retour\"\n                            }, void 0, false, {\n                                fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                lineNumber: 964,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleCreateLot,\n                                disabled: loading,\n                                className: \"create-btn\",\n                                children: loading ? \"Cr\\xe9ation...\" : \"Cr\\xe9er le lot\"\n                            }, void 0, false, {\n                                fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                                lineNumber: 967,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true)\n                }, void 0, false, {\n                    fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n                    lineNumber: 961,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n            lineNumber: 773,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/workspaces/garde-manger-app/app/pantry/components/SmartAddForm.js\",\n        lineNumber: 772,\n        columnNumber: 5\n    }, this);\n}\n_s(SmartAddForm, \"xzTsUhJmN/NycMnTftX4QgtmPOA=\");\n_c = SmartAddForm;\nvar _c;\n$RefreshReg$(_c, \"SmartAddForm\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9wYW50cnkvY29tcG9uZW50cy9TbWFydEFkZEZvcm0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx3Q0FBd0M7OztBQUd5QjtBQUMyQjtBQUNoQjtBQUMxQjtBQUN0QjtBQUU1QixxRkFBcUY7QUFDckYsTUFBTWMsc0JBQXNCLENBQUNDLE1BQU1DO0lBQ2pDLE1BQU1DLFNBQVMsRUFBRTtJQUNqQixJQUFLLElBQUlDLElBQUksR0FBR0EsS0FBS0YsS0FBS0csTUFBTSxFQUFFRCxJQUFLO1FBQ3JDRCxNQUFNLENBQUNDLEVBQUUsR0FBRztZQUFDQTtTQUFFO0lBQ2pCO0lBQ0EsSUFBSyxJQUFJRSxJQUFJLEdBQUdBLEtBQUtMLEtBQUtJLE1BQU0sRUFBRUMsSUFBSztRQUNyQ0gsTUFBTSxDQUFDLEVBQUUsQ0FBQ0csRUFBRSxHQUFHQTtJQUNqQjtJQUNBLElBQUssSUFBSUYsSUFBSSxHQUFHQSxLQUFLRixLQUFLRyxNQUFNLEVBQUVELElBQUs7UUFDckMsSUFBSyxJQUFJRSxJQUFJLEdBQUdBLEtBQUtMLEtBQUtJLE1BQU0sRUFBRUMsSUFBSztZQUNyQyxJQUFJSixLQUFLSyxNQUFNLENBQUNILElBQUksT0FBT0gsS0FBS00sTUFBTSxDQUFDRCxJQUFJLElBQUk7Z0JBQzdDSCxNQUFNLENBQUNDLEVBQUUsQ0FBQ0UsRUFBRSxHQUFHSCxNQUFNLENBQUNDLElBQUksRUFBRSxDQUFDRSxJQUFJLEVBQUU7WUFDckMsT0FBTztnQkFDTEgsTUFBTSxDQUFDQyxFQUFFLENBQUNFLEVBQUUsR0FBR0UsS0FBS0MsR0FBRyxDQUNyQk4sTUFBTSxDQUFDQyxJQUFJLEVBQUUsQ0FBQ0UsSUFBSSxFQUFFLEdBQUcsR0FDdkJILE1BQU0sQ0FBQ0MsRUFBRSxDQUFDRSxJQUFJLEVBQUUsR0FBRyxHQUNuQkgsTUFBTSxDQUFDQyxJQUFJLEVBQUUsQ0FBQ0UsRUFBRSxHQUFHO1lBRXZCO1FBQ0Y7SUFDRjtJQUNBLE9B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bjNCd0JkO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9wYW50cnkvY29tcG9uZW50cy9TbWFydEFkZEZvcm0uanM/MDBjNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHAvcGFudHJ5L2NvbXBvbmVudHMvU21hcnRBZGRGb3JtLmpzXG4ndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTZWFyY2gsIFBsdXMsIFgsIFBhY2thZ2UsIEhvbWUsIFNub3dmbGFrZSwgQXJjaGl2ZSwgQ2FsZW5kYXIgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL2F1dGgtaGVscGVycy1uZXh0anMnO1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL1RvYXN0JztcbmltcG9ydCAnLi9TbWFydEFkZEZvcm0uY3NzJztcblxuLy8gRm9uY3Rpb24gcG91ciBjYWxjdWxlciBsYSBkaXN0YW5jZSBkZSBMZXZlbnNodGVpbiAoZMOpdGVjdGlvbiBkZXMgZmF1dGVzIGRlIGZyYXBwZSlcbmNvbnN0IGxldmVuc2h0ZWluRGlzdGFuY2UgPSAoc3RyMSwgc3RyMikgPT4ge1xuICBjb25zdCBtYXRyaXggPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc3RyMi5sZW5ndGg7IGkrKykge1xuICAgIG1hdHJpeFtpXSA9IFtpXTtcbiAgfVxuICBmb3IgKGxldCBqID0gMDsgaiA8PSBzdHIxLmxlbmd0aDsgaisrKSB7XG4gICAgbWF0cml4WzBdW2pdID0gajtcbiAgfVxuICBmb3IgKGxldCBpID0gMTsgaSA8PSBzdHIyLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDE7IGogPD0gc3RyMS5sZW5ndGg7IGorKykge1xuICAgICAgaWYgKHN0cjIuY2hhckF0KGkgLSAxKSA9PT0gc3RyMS5jaGFyQXQoaiAtIDEpKSB7XG4gICAgICAgIG1hdHJpeFtpXVtqXSA9IG1hdHJpeFtpIC0gMV1baiAtIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0cml4W2ldW2pdID0gTWF0aC5taW4oXG4gICAgICAgICAgbWF0cml4W2kgLSAxXVtqIC0gMV0gKyAxLFxuICAgICAgICAgIG1hdHJpeFtpXVtqIC0gMV0gKyAxLFxuICAgICAgICAgIG1hdHJpeFtpIC0gMV1bal0gKyAxXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXRyaXhbc3RyMi5sZW5ndGhdW3N0cjEubGVuZ3RoXTtcbn07XG5cbi8vIEZvbmN0aW9uIHBvdXIgZm9ybWF0ZXIgcHJvcHJlbWVudCBsZXMgbm9tcyBkZSBwcm9kdWl0c1xuY29uc3QgZm9ybWF0UHJvZHVjdE5hbWUgPSAobmFtZSkgPT4ge1xuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgXG4gIC8vIE1vdHMgcXVpIGRvaXZlbnQgcmVzdGVyIGVuIG1pbnVzY3VsZXMgKGFydGljbGVzLCBwcsOpcG9zaXRpb25zLCBldGMuKVxuICBjb25zdCBsb3dlcmNhc2VXb3JkcyA9IFsnZGUnLCAnZHUnLCAnZGVzJywgJ2xlJywgJ2xhJywgJ2xlcycsICdhdScsICdhdXgnLCAnZW4nLCAnZXQnLCAnb3UnLCAnw6AnLCAnYXZlYycsICdzYW5zJywgJ3BvdXInLCAnc3VyJywgJ3NvdXMnLCAnZGFucycsICdwYXInXTtcbiAgXG4gIC8vIE1vdHMgcXVpIGRvaXZlbnQgYXZvaXIgdW5lIGNhcGl0YWxpc2F0aW9uIHNww6ljaWFsZVxuICBjb25zdCBzcGVjaWFsQ2FzZXMgPSB7XG4gICAgJ2FvYyc6ICdBT0MnLFxuICAgICdhb3AnOiAnQU9QJyxcbiAgICAnaWdwJzogJ0lHUCcsXG4gICAgJ2Jpbyc6ICdCaW8nLFxuICAgICdzYWludCc6ICdTYWludCcsXG4gICAgJ3NhaW50ZSc6ICdTYWludGUnLFxuICAgICdzdCc6ICdTdCcsXG4gICAgJ3N0ZSc6ICdTdGUnXG4gIH07XG5cbiAgLy8gTmV0dG95ZXIgbGUgbm9tIGQnYWJvcmQgKGVubGV2ZXIgbGVzIGVzcGFjZXMgbXVsdGlwbGVzLCBldGMuKVxuICBjb25zdCBjbGVhbk5hbWUgPSBuYW1lLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gIFxuICByZXR1cm4gY2xlYW5OYW1lXG4gICAgLnRvTG93ZXJDYXNlKClcbiAgICAuc3BsaXQoJyAnKVxuICAgIC5tYXAoKHdvcmQsIGluZGV4KSA9PiB7XG4gICAgICAvLyBHw6lyZXIgbGVzIG1vdHMgYXZlYyBhcG9zdHJvcGhlcyAoZCcsIGwnLCBldGMuKVxuICAgICAgaWYgKHdvcmQuaW5jbHVkZXMoXCInXCIpKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gd29yZC5zcGxpdChcIidcIik7XG4gICAgICAgIHJldHVybiBwYXJ0cy5tYXAoKHBhcnQsIHBhcnRJbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChwYXJ0SW5kZXggPT09IDAgJiYgWydkJywgJ2wnLCAnYycsICduJywgJ3MnLCAndCddLmluY2x1ZGVzKHBhcnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFydDsgLy8gZ2FyZGVyIGQnLCBsJywgZXRjLiBlbiBtaW51c2N1bGVzXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmRleCA9PT0gMCB8fCBwYXJ0SW5kZXggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3BlY2lhbENhc2VzW3BhcnRdIHx8IHBhcnQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwYXJ0LnNsaWNlKDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbG93ZXJjYXNlV29yZHMuaW5jbHVkZXMocGFydCkgPyBwYXJ0IDogKHNwZWNpYWxDYXNlc1twYXJ0XSB8fCBwYXJ0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcGFydC5zbGljZSgxKSk7XG4gICAgICAgIH0pLmpvaW4oXCInXCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBQcmVtaWVyIG1vdCB0b3Vqb3VycyBjYXBpdGFsaXPDqVxuICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzcGVjaWFsQ2FzZXNbd29yZF0gfHwgd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIE1vdHMgc3DDqWNpYXV4IChBT0MsIEFPUCwgU2FpbnQsIGV0Yy4pXG4gICAgICBpZiAoc3BlY2lhbENhc2VzW3dvcmRdKSB7XG4gICAgICAgIHJldHVybiBzcGVjaWFsQ2FzZXNbd29yZF07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIE1vdHMgcXVpIHJlc3RlbnQgZW4gbWludXNjdWxlc1xuICAgICAgaWYgKGxvd2VyY2FzZVdvcmRzLmluY2x1ZGVzKHdvcmQpKSB7XG4gICAgICAgIHJldHVybiB3b3JkO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBdXRyZXMgbW90cyA6IHByZW1pw6hyZSBsZXR0cmUgZW4gbWFqdXNjdWxlXG4gICAgICByZXR1cm4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSk7XG4gICAgfSlcbiAgICAuam9pbignICcpXG4gICAgLnRyaW0oKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNtYXJ0QWRkRm9ybSh7IG9wZW4sIG9uQ2xvc2UsIG9uTG90Q3JlYXRlZCB9KSB7XG4gIGNvbnN0IFtzdGVwLCBzZXRTdGVwXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NlYXJjaFJlc3VsdHMsIHNldFNlYXJjaFJlc3VsdHNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2VhcmNoTG9hZGluZywgc2V0U2VhcmNoTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWxlY3RlZFByb2R1Y3QsIHNldFNlbGVjdGVkUHJvZHVjdF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2F0ZWdvcmllcywgc2V0Q2F0ZWdvcmllc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtpc1RyYW5zaXRpb25pbmcsIHNldElzVHJhbnNpdGlvbmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICBjb25zdCBbbG90RGF0YSwgc2V0TG90RGF0YV0gPSB1c2VTdGF0ZSh7XG4gICAgcXR5X3JlbWFpbmluZzogMSxcbiAgICB1bml0OiAndW5pdMOpcycsXG4gICAgc3RvcmFnZV9tZXRob2Q6ICdwYW50cnknLFxuICAgIHN0b3JhZ2VfcGxhY2U6ICdHYXJkZS1tYW5nZXInLFxuICAgIGV4cGlyYXRpb25fZGF0ZTogJydcbiAgfSk7XG5cbiAgY29uc3QgbW9kYWxSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHNlYXJjaElucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBzZWFyY2hUaW1lb3V0UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudENvbXBvbmVudENsaWVudCgpO1xuXG4gIC8vIENoYXJnZXIgbGVzIGNhdMOpZ29yaWVzIGV0IHNvdXMtY2F0w6lnb3JpZXMgYXUgbW9udGFnZVxuICBjb25zdCBbc3ViY2F0ZWdvcmllcywgc2V0U3ViY2F0ZWdvcmllc10gPSB1c2VTdGF0ZShbXSk7XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxvYWRDYXRlZ29yaWVzRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENoYXJnZXIgbGVzIGNhdMOpZ29yaWVzIHByaW5jaXBhbGVzXG4gICAgICAgIGNvbnN0IHsgZGF0YTogY2F0ZWdvcmllc0RhdGEgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3JlZmVyZW5jZV9jYXRlZ29yaWVzJylcbiAgICAgICAgICAuc2VsZWN0KCdpZCwgbmFtZSwgaWNvbiwgY29sb3JfaGV4JylcbiAgICAgICAgICAub3JkZXIoJ3NvcnRfcHJpb3JpdHknKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoYXJnZXIgbGVzIHNvdXMtY2F0w6lnb3JpZXNcbiAgICAgICAgY29uc3QgeyBkYXRhOiBzdWJjYXRlZ29yaWVzRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgncmVmZXJlbmNlX3N1YmNhdGVnb3JpZXMnKVxuICAgICAgICAgIC5zZWxlY3QoJ2lkLCBjYXRlZ29yeV9pZCwgY29kZSwgbGFiZWwsIGljb24nKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjYXRlZ29yaWVzRGF0YSkge1xuICAgICAgICAgIHNldENhdGVnb3JpZXMoY2F0ZWdvcmllc0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdWJjYXRlZ29yaWVzRGF0YSkge1xuICAgICAgICAgIHNldFN1YmNhdGVnb3JpZXMoc3ViY2F0ZWdvcmllc0RhdGEpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZygnRXJyZXVyIGNoYXJnZW1lbnQgY2F0w6lnb3JpZXM6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG4gICAgbG9hZENhdGVnb3JpZXNEYXRhKCk7XG4gIH0sIFtzdXBhYmFzZV0pO1xuXG4gIC8vIFJlc2V0IHF1YW5kIG9uIG91dnJlIGxlIG1vZGFsXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG9wZW4pIHtcbiAgICAgIHNldFN0ZXAoMSk7XG4gICAgICBzZXRTZWFyY2hRdWVyeSgnJyk7XG4gICAgICBzZXRTZWFyY2hSZXN1bHRzKFtdKTtcbiAgICAgIHNldFNlbGVjdGVkUHJvZHVjdChudWxsKTtcbiAgICAgIHNldExvdERhdGEoe1xuICAgICAgICBxdHlfcmVtYWluaW5nOiAxLFxuICAgICAgICB1bml0OiAndW5pdMOpcycsXG4gICAgICAgIHN0b3JhZ2VfbWV0aG9kOiAncGFudHJ5JyxcbiAgICAgICAgc3RvcmFnZV9wbGFjZTogJ0dhcmRlLW1hbmdlcicsXG4gICAgICAgIGV4cGlyYXRpb25fZGF0ZTogJydcbiAgICAgIH0pO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNlYXJjaElucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgfSwgW29wZW5dKTtcblxuICAvLyBPYnRlbmlyIGwnaWPDtG5lIGRlIGxhIGNhdMOpZ29yaWVcbiAgY29uc3QgZ2V0Q2F0ZWdvcnlJY29uID0gdXNlQ2FsbGJhY2soKGNhdGVnb3J5SWQsIHByb2R1Y3ROYW1lKSA9PiB7XG4gICAgLy8gUFJJT1JJVMOJIEFVIE5PTSBEVSBQUk9EVUlUIChhdmFudCBsYSBjYXTDqWdvcmllKVxuICAgIGlmIChwcm9kdWN0TmFtZSkge1xuICAgICAgY29uc3QgbmFtZUxvd2VyID0gcHJvZHVjdE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIFxuICAgICAgLy8gRnJvbWFnZXMgUFJFTUlFUiAocG91ciDDqXZpdGVyIGNvbmZ1c2lvbiBhdmVjIGNoYW1waWdub25zKVxuICAgICAgaWYgKG5hbWVMb3dlci5pbmNsdWRlcygnY2FtZW1iZXJ0JykgfHwgbmFtZUxvd2VyLmluY2x1ZGVzKCdicmllJykgfHwgXG4gICAgICAgICAgbmFtZUxvd2VyLmluY2x1ZGVzKCdyb3F1ZWZvcnQnKSB8fCBuYW1lTG93ZXIuaW5jbHVkZXMoJ3JvY2FtYWRvdXInKSB8fCBcbiAgICAgICAgICBuYW1lTG93ZXIuaW5jbHVkZXMoJ2dydXnDqHJlJykgfHwgbmFtZUxvd2VyLmluY2x1ZGVzKCdlbW1lbnRhbCcpIHx8IFxuICAgICAgICAgIG5hbWVMb3dlci5pbmNsdWRlcygnZnJvbWFnZScpKSB7XG4gICAgICAgIHJldHVybiAn8J+ngCc7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChjYXRlZ29yeUlkICYmIGNhdGVnb3JpZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY2F0ZWdvcnkgPSBjYXRlZ29yaWVzLmZpbmQoY2F0ID0+IGNhdC5pZCA9PT0gY2F0ZWdvcnlJZCk7XG4gICAgICBpZiAoY2F0ZWdvcnk/Lmljb24pIHJldHVybiBjYXRlZ29yeS5pY29uO1xuICAgIH1cbiAgICBcbiAgICAvLyBJY8O0bmVzIHBhciBkw6lmYXV0IGJhc8OpZXMgc3VyIGxlIG5vbVxuICAgIGNvbnN0IG5hbWVJY29ucyA9IHtcbiAgICAgIC8vIEZyb21hZ2VzIChwcmlvcml0w6kpXG4gICAgICAnY2FtZW1iZXJ0JzogJ/Cfp4AnLCAnYnJpZSc6ICfwn6eAJywgJ3JvcXVlZm9ydCc6ICfwn6eAJywgJ2dydXnDqHJlJzogJ/Cfp4AnLCBcbiAgICAgICdlbW1lbnRhbCc6ICfwn6eAJywgJ2NoZWRkYXInOiAn8J+ngCcsICdtb3p6YXJlbGxhJzogJ/Cfp4AnLCAncGFybWVzYW4nOiAn8J+ngCcsXG4gICAgICAnY2jDqHZyZSc6ICfwn6eAJywgJ2ZldGEnOiAn8J+ngCcsICdibGV1JzogJ/Cfp4AnLCAnY29tdMOpJzogJ/Cfp4AnLCAnZnJvbWFnZSc6ICfwn6eAJyxcbiAgICAgIFxuICAgICAgLy8gRnJ1aXRzIGV0IGzDqWd1bWVzXG4gICAgICAndG9tYXRlJzogJ/CfjYUnLCAncG9tbWUnOiAn8J+NjicsICdjYXJvdHRlJzogJ/CfpZUnLCAncG9tbWUgZGUgdGVycmUnOiAn8J+llCcsXG4gICAgICAnYmFuYW5lJzogJ/CfjYwnLCAnZnJhaXNlJzogJ/CfjZMnLCAnb3JhbmdlJzogJ/CfjYonLCAnY2l0cm9uJzogJ/CfjYsnLFxuICAgICAgJ2Jyb2NvbGknOiAn8J+lpicsICdvaWdub24nOiAn8J+nhScsICdhaWwnOiAn77+9JywgJ3NhbGFkZSc6ICfvv70nLFxuICAgICAgJ2NvdXJnZXR0ZSc6ICfwn6WSJywgJ2F1YmVyZ2luZSc6ICfvv70nLCAncG9pdnJvbic6ICfwn6uRJywgJ3JhZGlzJzogJ/CfpZUnLFxuICAgICAgXG4gICAgICAvLyBDaGFtcGlnbm9ucyAoc8OpcGFyw6lzIGRlcyBmcm9tYWdlcylcbiAgICAgICdjaGFtcGlnbm9uJzogJ/CfjYQnLCAnc2hpaXRha2UnOiAn8J+NhCcsICdjw6hwZSc6ICfwn42EJywgJ21vdXNzZXJvbic6ICfwn42EJyxcbiAgICAgIFxuICAgICAgLy8gUHJvZHVpdHMgbGFpdGllcnNcbiAgICAgICdsYWl0JzogJ/CfpZsnLCAneWFvdXJ0JzogJ/CfpZsnLCAnY3LDqG1lJzogJ/CfpZsnLCAnYmV1cnJlJzogJ++/vScsXG4gICAgICBcbiAgICAgIC8vIFByb3TDqWluZXNcbiAgICAgICdvZXVmJzogJ/CfpZonLCAndmlhbmRlJzogJ/CfpaknLCAnYm9ldWYnOiAn8J+lqScsICdwb3JjJzogJ/CfpaknLFxuICAgICAgJ3BvdWxldCc6ICfwn42XJywgJ3BvaXNzb24nOiAn8J+QnycsICdzYXVtb24nOiAn8J+QnycsICd0aG9uJzogJ/CfkJ8nLFxuICAgICAgXG4gICAgICAvLyBGw6ljdWxlbnRzIGV0IGPDqXLDqWFsZXNcbiAgICAgICdwYWluJzogJ/CfjZ4nLCAncml6JzogJ/CfjZonLCAncMOidGVzJzogJ/CfjZ0nLCAnYmzDqSc6ICfwn4y+JywgXG4gICAgICAncXVpbm9hJzogJ/CfjL4nLCAnYXZvaW5lJzogJ/CfjL4nLCAnb3JnZSc6ICfwn4y+J1xuICAgIH07XG4gICAgXG4gICAgaWYgKHByb2R1Y3ROYW1lKSB7XG4gICAgICBjb25zdCBuYW1lTG93ZXIgPSBwcm9kdWN0TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgZm9yIChjb25zdCBba2V5LCBpY29uXSBvZiBPYmplY3QuZW50cmllcyhuYW1lSWNvbnMpKSB7XG4gICAgICAgIGlmIChuYW1lTG93ZXIuaW5jbHVkZXMoa2V5KSkgcmV0dXJuIGljb247XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAn8J+Tpic7XG4gIH0sIFtjYXRlZ29yaWVzXSk7XG5cbiAgLy8gT2J0ZW5pciBsZSBub20gZXQgbGEgY2xhc3NlIENTUyBkZSBsYSBjYXTDqWdvcmllXG4gIGNvbnN0IGdldENhdGVnb3J5SW5mbyA9IHVzZUNhbGxiYWNrKChjYXRlZ29yeUlkLCBzdWJjYXRlZ29yeUlkID0gbnVsbCwgcHJvZHVjdE5hbWUgPSBudWxsKSA9PiB7XG4gICAgLy8gUFJJT1JJVMOJIEFVIE5PTSBEVSBQUk9EVUlUIHBvdXIgY29ycmlnZXIgbGVzIGVycmV1cnMgZGUgY2F0w6lnb3Jpc2F0aW9uXG4gICAgaWYgKHByb2R1Y3ROYW1lKSB7XG4gICAgICBjb25zdCBuYW1lTG93ZXIgPSBwcm9kdWN0TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgXG4gICAgICAvLyBGcm9tYWdlc1xuICAgICAgaWYgKG5hbWVMb3dlci5pbmNsdWRlcygnY2FtZW1iZXJ0JykgfHwgbmFtZUxvd2VyLmluY2x1ZGVzKCdicmllJykgfHwgXG4gICAgICAgICAgbmFtZUxvd2VyLmluY2x1ZGVzKCdyb3F1ZWZvcnQnKSB8fCBuYW1lTG93ZXIuaW5jbHVkZXMoJ3JvY2FtYWRvdXInKSB8fCBcbiAgICAgICAgICBuYW1lTG93ZXIuaW5jbHVkZXMoJ2dydXnDqHJlJykgfHwgbmFtZUxvd2VyLmluY2x1ZGVzKCdlbW1lbnRhbCcpIHx8IFxuICAgICAgICAgIG5hbWVMb3dlci5pbmNsdWRlcygnZnJvbWFnZScpKSB7XG4gICAgICAgIHJldHVybiB7IG5hbWU6ICdGcm9tYWdlcycsIGNsYXNzOiAnY2F0ZWdvcnktZnJvbWFnZXMnIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoYW1waWdub25zXG4gICAgICBpZiAobmFtZUxvd2VyLmluY2x1ZGVzKCdjaGFtcGlnbm9uJykgfHwgbmFtZUxvd2VyLmluY2x1ZGVzKCdzaGlpdGFrZScpIHx8IFxuICAgICAgICAgIG5hbWVMb3dlci5pbmNsdWRlcygnY8OocGUnKSB8fCBuYW1lTG93ZXIuaW5jbHVkZXMoJ21vdXNzZXJvbicpKSB7XG4gICAgICAgIHJldHVybiB7IG5hbWU6ICdDaGFtcGlnbm9ucycsIGNsYXNzOiAnY2F0ZWdvcnktY2hhbXBpZ25vbnMnIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFZpYW5kZXNcbiAgICAgIGlmIChuYW1lTG93ZXIuaW5jbHVkZXMoJ3ZpYW5kZScpIHx8XG4gICAgICAgICAgbmFtZUxvd2VyLmluY2x1ZGVzKCdwb3VsZXQnKSB8fCBuYW1lTG93ZXIuaW5jbHVkZXMoJ2JvZXVmJykpIHtcbiAgICAgICAgcmV0dXJuIHsgbmFtZTogJ1ZpYW5kZXMnLCBjbGFzczogJ2NhdGVnb3J5LXZpYW5kZXMnIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEbDqWN1bGVudHNcbiAgICAgIGlmIChuYW1lTG93ZXIuaW5jbHVkZXMoJ3DDonRlcycpIHx8IG5hbWVMb3dlci5pbmNsdWRlcygncml6JykgfHwgXG4gICAgICAgICAgbmFtZUxvd2VyLmluY2x1ZGVzKCdwYWluJykgfHwgbmFtZUxvd2VyLmluY2x1ZGVzKCdwb21tZSBkZSB0ZXJyZScpIHx8XG4gICAgICAgICAgbmFtZUxvd2VyLmluY2x1ZGVzKCdxdWlub2EnKSB8fCBuYW1lTG93ZXIuaW5jbHVkZXMoJ2Jsw6knKSkge1xuICAgICAgICByZXR1cm4geyBuYW1lOiAnRsOpY3VsZW50cycsIGNsYXNzOiAnY2F0ZWdvcnktZmVjdWxlbnRzJyB9O1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBGYWxsYmFjayBzdXIgbGVzIHZyYWllcyBkb25uw6llcyBkZSBjYXTDqWdvcmlzYXRpb25cbiAgICBpZiAoc3ViY2F0ZWdvcnlJZCAmJiBzdWJjYXRlZ29yaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHN1YmNhdGVnb3J5ID0gc3ViY2F0ZWdvcmllcy5maW5kKHN1YiA9PiBzdWIuaWQgPT09IHN1YmNhdGVnb3J5SWQpO1xuICAgICAgaWYgKHN1YmNhdGVnb3J5Py5sYWJlbCkge1xuICAgICAgICByZXR1cm4geyBuYW1lOiBzdWJjYXRlZ29yeS5sYWJlbCwgY2xhc3M6ICdjYXRlZ29yeS1kZWZhdWx0JyB9O1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoY2F0ZWdvcnlJZCAmJiBjYXRlZ29yaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gY2F0ZWdvcmllcy5maW5kKGNhdCA9PiBjYXQuaWQgPT09IGNhdGVnb3J5SWQpO1xuICAgICAgaWYgKGNhdGVnb3J5Py5uYW1lKSB7XG4gICAgICAgIC8vIE1hcHBpbmcgZGVzIGNhdMOpZ29yaWVzIHByaW5jaXBhbGVzIHZlcnMgbGVzIGNsYXNzZXMgQ1NTXG4gICAgICAgIGNvbnN0IGNhdGVnb3J5TWFwcGluZyA9IHtcbiAgICAgICAgICAnRnJ1aXRzJzogJ2NhdGVnb3J5LWZydWl0cycsXG4gICAgICAgICAgJ0zDqWd1bWVzJzogJ2NhdGVnb3J5LWxlZ3VtZXMnLFxuICAgICAgICAgICdDaGFtcGlnbm9ucyc6ICdjYXRlZ29yeS1jaGFtcGlnbm9ucydcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgIG5hbWU6IGNhdGVnb3J5Lm5hbWUsIFxuICAgICAgICAgIGNsYXNzOiBjYXRlZ29yeU1hcHBpbmdbY2F0ZWdvcnkubmFtZV0gfHwgJ2NhdGVnb3J5LWRlZmF1bHQnIFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4geyBuYW1lOiAnQWxpbWVudGF0aW9uJywgY2xhc3M6ICdjYXRlZ29yeS1kZWZhdWx0JyB9O1xuICB9LCBbY2F0ZWdvcmllcywgc3ViY2F0ZWdvcmllc10pO1xuXG4gIC8vIENhbGN1bGVyIGxhIGRhdGUgZCdleHBpcmF0aW9uIHBhciBkw6lmYXV0XG4gIGNvbnN0IGdldERlZmF1bHRFeHBpcmF0aW9uRGF0ZSA9IHVzZUNhbGxiYWNrKChwcm9kdWN0LCBzdG9yYWdlTWV0aG9kKSA9PiB7XG4gICAgbGV0IGRheXMgPSA3O1xuICAgIFxuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICBpZiAoc3RvcmFnZU1ldGhvZCA9PT0gJ2ZyaWRnZScpIHtcbiAgICAgICAgZGF5cyA9IHByb2R1Y3Quc2hlbGZfbGlmZV9kYXlzX2ZyaWRnZSB8fCA3O1xuICAgICAgfSBlbHNlIGlmIChzdG9yYWdlTWV0aG9kID09PSAnZnJlZXplcicpIHtcbiAgICAgICAgZGF5cyA9IHByb2R1Y3Quc2hlbGZfbGlmZV9kYXlzX2ZyZWV6ZXIgfHwgOTA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXlzID0gcHJvZHVjdC5zaGVsZl9saWZlX2RheXNfcGFudHJ5IHx8IDMwO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBkYXlzKTtcbiAgICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gIH0sIFtdKTtcblxuICAvLyBSZWNoZXJjaGUgZGUgcHJvZHVpdHMgYW3DqWxpb3LDqWUgYXZlYyB0cmFuc2l0aW9ucyBzbW9vdGhcbiAgY29uc3QgcGVyZm9ybVNlYXJjaCA9IHVzZUNhbGxiYWNrKGFzeW5jIChxdWVyeSkgPT4ge1xuICAgIC8vIETDqW1hcnJlciBsYSB0cmFuc2l0aW9uIHNtb290aFxuICAgIHNldElzVHJhbnNpdGlvbmluZyh0cnVlKTtcbiAgICBzZXRTZWFyY2hMb2FkaW5nKHRydWUpO1xuICAgIFxuICAgIC8vIFBldGl0IGTDqWxhaSBwb3VyIHBlcm1ldHRyZSBsJ2FuaW1hdGlvbiBkZSBzb3J0aWUgc2kgZGVzIHLDqXN1bHRhdHMgZXhpc3RlbnRcbiAgICBpZiAoc2VhcmNoUmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTUwKSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHEgPSAocXVlcnkgfHwgJycpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBTaSBwYXMgZGUgcXVlcnksIHByZW5kcmUgbGVzIDUgcHJvZHVpdHMgbGVzIHBsdXMgcG9wdWxhaXJlc1xuICAgICAgaWYgKCFxIHx8IHEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogdG9wUHJvZHVjdHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2Nhbm9uaWNhbF9mb29kcycpXG4gICAgICAgICAgLnNlbGVjdChgXG4gICAgICAgICAgICBpZCwgY2Fub25pY2FsX25hbWUsIGNhdGVnb3J5X2lkLCBzdWJjYXRlZ29yeV9pZCwga2V5d29yZHMsIHByaW1hcnlfdW5pdCxcbiAgICAgICAgICAgIHNoZWxmX2xpZmVfZGF5c19wYW50cnksIHNoZWxmX2xpZmVfZGF5c19mcmlkZ2UsIHNoZWxmX2xpZmVfZGF5c19mcmVlemVyXG4gICAgICAgICAgYClcbiAgICAgICAgICAub3JkZXIoJ2lkJylcbiAgICAgICAgICAubGltaXQoMyk7XG5cbiAgICAgICAgaWYgKHRvcFByb2R1Y3RzKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRvcFByb2R1Y3RzLm1hcChmb29kID0+ICh7XG4gICAgICAgICAgICBpZDogZm9vZC5pZCxcbiAgICAgICAgICAgIG5hbWU6IGZvb2QuY2Fub25pY2FsX25hbWUsXG4gICAgICAgICAgICB0eXBlOiAnY2Fub25pY2FsJyxcbiAgICAgICAgICAgIGNhdGVnb3J5X2lkOiBmb29kLmNhdGVnb3J5X2lkLFxuICAgICAgICAgICAgc3ViY2F0ZWdvcnlfaWQ6IGZvb2Quc3ViY2F0ZWdvcnlfaWQsXG4gICAgICAgICAgICBtYXRjaFNjb3JlOiA1MCxcbiAgICAgICAgICAgIHByaW1hcnlfdW5pdDogZm9vZC5wcmltYXJ5X3VuaXQgfHwgJ3VuaXTDqXMnLFxuICAgICAgICAgICAgc2hlbGZfbGlmZV9kYXlzX3BhbnRyeTogZm9vZC5zaGVsZl9saWZlX2RheXNfcGFudHJ5LFxuICAgICAgICAgICAgc2hlbGZfbGlmZV9kYXlzX2ZyaWRnZTogZm9vZC5zaGVsZl9saWZlX2RheXNfZnJpZGdlLFxuICAgICAgICAgICAgc2hlbGZfbGlmZV9kYXlzX2ZyZWV6ZXI6IGZvb2Quc2hlbGZfbGlmZV9kYXlzX2ZyZWV6ZXIsXG4gICAgICAgICAgICBpY29uOiBnZXRDYXRlZ29yeUljb24oZm9vZC5jYXRlZ29yeV9pZCwgZm9vZC5jYW5vbmljYWxfbmFtZSlcbiAgICAgICAgICB9KSkuc2xpY2UoMCwgMyk7IC8vIExpbWl0ZXIgw6AgMyBzdWdnZXN0aW9uc1xuICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHMocmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0U2VhcmNoTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWxsUmVzdWx0cyA9IFtdO1xuICAgICAgY29uc3Qgc2Vlbk5hbWVzID0gbmV3IFNldCgpO1xuXG4gICAgICAvLyAxLiBSZWNoZXJjaGUgZGFucyBjYW5vbmljYWxfZm9vZHMgYXZlYyBwbHVzaWV1cnMgdGVjaG5pcXVlc1xuICAgICAgXG4gICAgICAvLyBSZWNoZXJjaGUgZGlyZWN0ZSBhdmVjIGluZm9ybWF0aW9ucyBkZSBzb3VzLWNhdMOpZ29yaWVcbiAgICAgIGNvbnN0IHsgZGF0YTogY2Fub25pY2FsRm9vZHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjYW5vbmljYWxfZm9vZHMnKVxuICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICBpZCwgY2Fub25pY2FsX25hbWUsIGNhdGVnb3J5X2lkLCBzdWJjYXRlZ29yeV9pZCwga2V5d29yZHMsIHByaW1hcnlfdW5pdCxcbiAgICAgICAgICBzaGVsZl9saWZlX2RheXNfcGFudHJ5LCBzaGVsZl9saWZlX2RheXNfZnJpZGdlLCBzaGVsZl9saWZlX2RheXNfZnJlZXplclxuICAgICAgICBgKVxuICAgICAgICAub3IoYGNhbm9uaWNhbF9uYW1lLmlsaWtlLiUke3F9JSxrZXl3b3Jkcy5jcy57JHtxfX1gKVxuICAgICAgICAubGltaXQoMjApO1xuXG4gICAgICBjb25zdCBhbGxDYW5vbmljYWwgPSBjYW5vbmljYWxGb29kcyB8fCBbXTtcblxuICAgICAgaWYgKGFsbENhbm9uaWNhbCkge1xuICAgICAgICBhbGxDYW5vbmljYWwuZm9yRWFjaChmb29kID0+IHtcbiAgICAgICAgICBpZiAoIXNlZW5OYW1lcy5oYXMoZm9vZC5jYW5vbmljYWxfbmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgYWxsUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgLi4uZm9vZCxcbiAgICAgICAgICAgICAgdHlwZTogJ2Nhbm9uaWNhbCcsXG4gICAgICAgICAgICAgIHNvdXJjZV9uYW1lOiBmb29kLmNhbm9uaWNhbF9uYW1lLFxuICAgICAgICAgICAgICBzdWJjYXRlZ29yeV9pZDogZm9vZC5zdWJjYXRlZ29yeV9pZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZWVuTmFtZXMuYWRkKGZvb2QuY2Fub25pY2FsX25hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gMi4gUmVjaGVyY2hlIGRhbnMgYXJjaGV0eXBlc1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBhcmNoZXR5cGVzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdhcmNoZXR5cGVzJylcbiAgICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICAgIGlkLCBuYW1lLCBjYW5vbmljYWxfZm9vZF9pZCwgc2hlbGZfbGlmZV9kYXlzLFxuICAgICAgICAgICAgY2Fub25pY2FsX2Zvb2RzIWlubmVyKGNhbm9uaWNhbF9uYW1lLCBjYXRlZ29yeV9pZCwgcHJpbWFyeV91bml0LCBrZXl3b3JkcylcbiAgICAgICAgICBgKVxuICAgICAgICAgIC5pbGlrZSgnbmFtZScsIGAlJHtxfSVgKVxuICAgICAgICAgIC5saW1pdCgyMCk7XG5cbiAgICAgICAgaWYgKGFyY2hldHlwZXMpIHtcbiAgICAgICAgICBhcmNoZXR5cGVzLmZvckVhY2goYXJjaGV0eXBlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBhcmNoZXR5cGUubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKCFzZWVuTmFtZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgIGFsbFJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IGBhcmNoXyR7YXJjaGV0eXBlLmlkfWAsXG4gICAgICAgICAgICAgICAgY2Fub25pY2FsX25hbWU6IGFyY2hldHlwZS5uYW1lLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5X2lkOiBhcmNoZXR5cGUuY2Fub25pY2FsX2Zvb2RzPy5jYXRlZ29yeV9pZCxcbiAgICAgICAgICAgICAgICBwcmltYXJ5X3VuaXQ6IGFyY2hldHlwZS5jYW5vbmljYWxfZm9vZHM/LnByaW1hcnlfdW5pdCB8fCAndW5pdMOpcycsXG4gICAgICAgICAgICAgICAgc2hlbGZfbGlmZV9kYXlzX3BhbnRyeTogYXJjaGV0eXBlLnNoZWxmX2xpZmVfZGF5cyxcbiAgICAgICAgICAgICAgICBzaGVsZl9saWZlX2RheXNfZnJpZGdlOiBhcmNoZXR5cGUuc2hlbGZfbGlmZV9kYXlzLFxuICAgICAgICAgICAgICAgIHNoZWxmX2xpZmVfZGF5c19mcmVlemVyOiBhcmNoZXR5cGUuc2hlbGZfbGlmZV9kYXlzICogMTAsXG4gICAgICAgICAgICAgICAga2V5d29yZHM6IGFyY2hldHlwZS5jYW5vbmljYWxfZm9vZHM/LmtleXdvcmRzLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdhcmNoZXR5cGUnLFxuICAgICAgICAgICAgICAgIHNvdXJjZV9uYW1lOiBhcmNoZXR5cGUubmFtZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc2Vlbk5hbWVzLmFkZChuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1BhcyBkZSB0YWJsZSBhcmNoZXR5cGVzOicsIGVycm9yKTtcbiAgICAgIH1cblxuICAgICAgLy8gMy4gUmVjaGVyY2hlIGRhbnMgY3VsdGl2YXJzXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRhdGE6IGN1bHRpdmFycyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnY3VsdGl2YXJzJylcbiAgICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICAgIGlkLCBuYW1lLCBjYW5vbmljYWxfZm9vZF9pZCxcbiAgICAgICAgICAgIGNhbm9uaWNhbF9mb29kcyFpbm5lcihjYW5vbmljYWxfbmFtZSwgY2F0ZWdvcnlfaWQsIHByaW1hcnlfdW5pdCwga2V5d29yZHMsXG4gICAgICAgICAgICAgIHNoZWxmX2xpZmVfZGF5c19wYW50cnksIHNoZWxmX2xpZmVfZGF5c19mcmlkZ2UsIHNoZWxmX2xpZmVfZGF5c19mcmVlemVyKVxuICAgICAgICAgIGApXG4gICAgICAgICAgLmlsaWtlKCduYW1lJywgYCUke3F9JWApXG4gICAgICAgICAgLmxpbWl0KDIwKTtcblxuICAgICAgICBpZiAoY3VsdGl2YXJzKSB7XG4gICAgICAgICAgY3VsdGl2YXJzLmZvckVhY2goY3VsdGl2YXIgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGN1bHRpdmFyLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICghc2Vlbk5hbWVzLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICBhbGxSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBgY3VsdF8ke2N1bHRpdmFyLmlkfWAsXG4gICAgICAgICAgICAgICAgY2Fub25pY2FsX25hbWU6IGN1bHRpdmFyLm5hbWUsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlfaWQ6IGN1bHRpdmFyLmNhbm9uaWNhbF9mb29kcz8uY2F0ZWdvcnlfaWQsXG4gICAgICAgICAgICAgICAgcHJpbWFyeV91bml0OiBjdWx0aXZhci5jYW5vbmljYWxfZm9vZHM/LnByaW1hcnlfdW5pdCB8fCAndW5pdMOpcycsXG4gICAgICAgICAgICAgICAgc2hlbGZfbGlmZV9kYXlzX3BhbnRyeTogY3VsdGl2YXIuY2Fub25pY2FsX2Zvb2RzPy5zaGVsZl9saWZlX2RheXNfcGFudHJ5LFxuICAgICAgICAgICAgICAgIHNoZWxmX2xpZmVfZGF5c19mcmlkZ2U6IGN1bHRpdmFyLmNhbm9uaWNhbF9mb29kcz8uc2hlbGZfbGlmZV9kYXlzX2ZyaWRnZSxcbiAgICAgICAgICAgICAgICBzaGVsZl9saWZlX2RheXNfZnJlZXplcjogY3VsdGl2YXIuY2Fub25pY2FsX2Zvb2RzPy5zaGVsZl9saWZlX2RheXNfZnJlZXplcixcbiAgICAgICAgICAgICAgICBrZXl3b3JkczogY3VsdGl2YXIuY2Fub25pY2FsX2Zvb2RzPy5rZXl3b3JkcyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnY3VsdGl2YXInLFxuICAgICAgICAgICAgICAgIHNvdXJjZV9uYW1lOiBjdWx0aXZhci5uYW1lXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzZWVuTmFtZXMuYWRkKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZygnUGFzIGRlIHRhYmxlIGN1bHRpdmFyczonLCBlcnJvcik7XG4gICAgICB9XG5cbiAgICAgIC8vIDQuIFNjb3JlciBsZXMgcsOpc3VsdGF0cyBhdmVjIHJlY2hlcmNoZSBmbG91ZVxuICAgICAgY29uc3Qgc2NvcmVkUmVzdWx0cyA9IGFsbFJlc3VsdHMubWFwKGl0ZW0gPT4ge1xuICAgICAgICBjb25zdCBuYW1lTG93ZXIgPSBpdGVtLnNvdXJjZV9uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGxldCBtYXRjaFNjb3JlID0gMDtcblxuICAgICAgICAvLyBTY29yZSBleGFjdFxuICAgICAgICBpZiAobmFtZUxvd2VyID09PSBxKSB7XG4gICAgICAgICAgbWF0Y2hTY29yZSA9IDEwMDtcbiAgICAgICAgfSBcbiAgICAgICAgLy8gU2NvcmUgZGUgZMOpYnV0XG4gICAgICAgIGVsc2UgaWYgKG5hbWVMb3dlci5zdGFydHNXaXRoKHEpKSB7XG4gICAgICAgICAgbWF0Y2hTY29yZSA9IDkwO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNjb3JlIGQnaW5jbHVzaW9uXG4gICAgICAgIGVsc2UgaWYgKG5hbWVMb3dlci5pbmNsdWRlcyhxKSkge1xuICAgICAgICAgIG1hdGNoU2NvcmUgPSA3MDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTY29yZSBkZSByZWNoZXJjaGUgZmxvdWUgKHRvbMOpcmFuY2UgYXV4IGZhdXRlcylcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBsZXZlbnNodGVpbkRpc3RhbmNlKHEsIG5hbWVMb3dlcik7XG4gICAgICAgICAgY29uc3QgbWF4TGVuZ3RoID0gTWF0aC5tYXgocS5sZW5ndGgsIG5hbWVMb3dlci5sZW5ndGgpO1xuICAgICAgICAgIGNvbnN0IG1pbkxlbmd0aCA9IE1hdGgubWluKHEubGVuZ3RoLCBuYW1lTG93ZXIubGVuZ3RoKTtcbiAgICAgICAgICBjb25zdCBzaW1pbGFyaXR5ID0gKG1heExlbmd0aCAtIGRpc3RhbmNlKSAvIG1heExlbmd0aDtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQbHVzIHN0cmljdCA6IHNldWlsIMOgIDcwJSBldCB2w6lyaWZpY2F0aW9uIGRlIGxvbmd1ZXVyIHNpbWlsYWlyZVxuICAgICAgICAgIGlmIChzaW1pbGFyaXR5ID4gMC43ICYmIE1hdGguYWJzKHEubGVuZ3RoIC0gbmFtZUxvd2VyLmxlbmd0aCkgPD0gMikge1xuICAgICAgICAgICAgbWF0Y2hTY29yZSA9IE1hdGguZmxvb3Ioc2ltaWxhcml0eSAqIDYwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQm9udXMgc3DDqWNpYWwgcG91ciBcImNhbWFtYmVydFwiIOKGkiBcImNhbWVtYmVydFwiIChzdWJzdGl0dXRpb24gbS9tZSlcbiAgICAgICAgICAgIGlmIChxID09PSAnY2FtYW1iZXJ0JyAmJiBuYW1lTG93ZXIgPT09ICdjYW1lbWJlcnQnKSB7XG4gICAgICAgICAgICAgIG1hdGNoU2NvcmUgPSA5MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQm9udXMgcG91ciBtb3RzLWNsw6lzXG4gICAgICAgIGlmIChpdGVtLmtleXdvcmRzICYmIEFycmF5LmlzQXJyYXkoaXRlbS5rZXl3b3JkcykpIHtcbiAgICAgICAgICBjb25zdCBoYXNLZXl3b3JkID0gaXRlbS5rZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gXG4gICAgICAgICAgICBrZXl3b3JkLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwgXG4gICAgICAgICAgICBsZXZlbnNodGVpbkRpc3RhbmNlKHEsIGtleXdvcmQudG9Mb3dlckNhc2UoKSkgPD0gMlxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGhhc0tleXdvcmQpIG1hdGNoU2NvcmUgKz0gMTU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCb251cyBwYXIgdHlwZVxuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnY2Fub25pY2FsJykgbWF0Y2hTY29yZSArPSA1O1xuICAgICAgICBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdjdWx0aXZhcicpIG1hdGNoU2NvcmUgKz0gMztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgIG5hbWU6IGl0ZW0uc291cmNlX25hbWUsXG4gICAgICAgICAgdHlwZTogaXRlbS50eXBlLFxuICAgICAgICAgIGNhdGVnb3J5X2lkOiBpdGVtLmNhdGVnb3J5X2lkLFxuICAgICAgICAgIHN1YmNhdGVnb3J5X2lkOiBpdGVtLnN1YmNhdGVnb3J5X2lkLFxuICAgICAgICAgIG1hdGNoU2NvcmUsXG4gICAgICAgICAgcHJpbWFyeV91bml0OiBpdGVtLnByaW1hcnlfdW5pdCB8fCAndW5pdMOpcycsXG4gICAgICAgICAgc2hlbGZfbGlmZV9kYXlzX3BhbnRyeTogaXRlbS5zaGVsZl9saWZlX2RheXNfcGFudHJ5IHx8IDMwLFxuICAgICAgICAgIHNoZWxmX2xpZmVfZGF5c19mcmlkZ2U6IGl0ZW0uc2hlbGZfbGlmZV9kYXlzX2ZyaWRnZSB8fCA3LFxuICAgICAgICAgIHNoZWxmX2xpZmVfZGF5c19mcmVlemVyOiBpdGVtLnNoZWxmX2xpZmVfZGF5c19mcmVlemVyIHx8IDkwLFxuICAgICAgICAgIGljb246IGdldENhdGVnb3J5SWNvbihpdGVtLmNhdGVnb3J5X2lkLCBpdGVtLnNvdXJjZV9uYW1lKVxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEZpbHRyZXIgbGVzIHLDqXN1bHRhdHMgYXZlYyBzY29yZSA+IDAgZXQgdHJpZXJcbiAgICAgIGxldCBmaW5hbFJlc3VsdHMgPSBzY29yZWRSZXN1bHRzXG4gICAgICAgIC5maWx0ZXIociA9PiByLm1hdGNoU2NvcmUgPiAwKVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYi5tYXRjaFNjb3JlIC0gYS5tYXRjaFNjb3JlKVxuICAgICAgICAuc2xpY2UoMCwgMyk7IC8vIFLDqWR1aXJlIMOgIDMgc3VnZ2VzdGlvbnNcblxuICAgICAgLy8gU2kgbW9pbnMgZGUgMyByw6lzdWx0YXRzLCBjb21wbMOpdGVyIGF2ZWMgbGVzIHBsdXMgcG9wdWxhaXJlc1xuICAgICAgaWYgKGZpbmFsUmVzdWx0cy5sZW5ndGggPCAzKSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogdG9wUHJvZHVjdHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2Nhbm9uaWNhbF9mb29kcycpXG4gICAgICAgICAgLnNlbGVjdChgXG4gICAgICAgICAgICBpZCwgY2Fub25pY2FsX25hbWUsIGNhdGVnb3J5X2lkLCBwcmltYXJ5X3VuaXQsXG4gICAgICAgICAgICBzaGVsZl9saWZlX2RheXNfcGFudHJ5LCBzaGVsZl9saWZlX2RheXNfZnJpZGdlLCBzaGVsZl9saWZlX2RheXNfZnJlZXplclxuICAgICAgICAgIGApXG4gICAgICAgICAgLm9yZGVyKCdpZCcpXG4gICAgICAgICAgLmxpbWl0KDMgLSBmaW5hbFJlc3VsdHMubGVuZ3RoKTtcblxuICAgICAgICBpZiAodG9wUHJvZHVjdHMpIHtcbiAgICAgICAgICBjb25zdCBleGlzdGluZ05hbWVzID0gbmV3IFNldChmaW5hbFJlc3VsdHMubWFwKHIgPT4gci5uYW1lLnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgICB0b3BQcm9kdWN0cy5mb3JFYWNoKGZvb2QgPT4ge1xuICAgICAgICAgICAgaWYgKCFleGlzdGluZ05hbWVzLmhhcyhmb29kLmNhbm9uaWNhbF9uYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgIGZpbmFsUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogZm9vZC5pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBmb29kLmNhbm9uaWNhbF9uYW1lLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdjYW5vbmljYWwnLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5X2lkOiBmb29kLmNhdGVnb3J5X2lkLFxuICAgICAgICAgICAgICAgIG1hdGNoU2NvcmU6IDI1LFxuICAgICAgICAgICAgICAgIHByaW1hcnlfdW5pdDogZm9vZC5wcmltYXJ5X3VuaXQgfHwgJ3VuaXTDqXMnLFxuICAgICAgICAgICAgICAgIHNoZWxmX2xpZmVfZGF5c19wYW50cnk6IGZvb2Quc2hlbGZfbGlmZV9kYXlzX3BhbnRyeSB8fCAzMCxcbiAgICAgICAgICAgICAgICBzaGVsZl9saWZlX2RheXNfZnJpZGdlOiBmb29kLnNoZWxmX2xpZmVfZGF5c19mcmlkZ2UgfHwgNyxcbiAgICAgICAgICAgICAgICBzaGVsZl9saWZlX2RheXNfZnJlZXplcjogZm9vZC5zaGVsZl9saWZlX2RheXNfZnJlZXplciB8fCA5MCxcbiAgICAgICAgICAgICAgICBpY29uOiBnZXRDYXRlZ29yeUljb24oZm9vZC5jYXRlZ29yeV9pZCwgZm9vZC5jYW5vbmljYWxfbmFtZSlcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVHJhbnNpdGlvbiBzbW9vdGggcG91ciBsJ2FwcGFyaXRpb24gZGVzIG5vdXZlYXV4IHLDqXN1bHRhdHNcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRTZWFyY2hSZXN1bHRzKGZpbmFsUmVzdWx0cy5zbGljZSgwLCAzKSk7XG4gICAgICAgIHNldElzVHJhbnNpdGlvbmluZyhmYWxzZSk7XG4gICAgICB9LCAxMDApO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciByZWNoZXJjaGU6JywgZXJyb3IpO1xuICAgICAgLy8gRW4gY2FzIGQnZXJyZXVyLCBlc3NheW9ucyB1bmUgcmVjaGVyY2hlIGJhc2lxdWVcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogZmFsbGJhY2tQcm9kdWN0cyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnY2Fub25pY2FsX2Zvb2RzJylcbiAgICAgICAgICAuc2VsZWN0KCdpZCwgY2Fub25pY2FsX25hbWUsIGNhdGVnb3J5X2lkLCBwcmltYXJ5X3VuaXQnKVxuICAgICAgICAgIC5saW1pdCgzKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChmYWxsYmFja1Byb2R1Y3RzKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGZhbGxiYWNrUHJvZHVjdHMubWFwKGZvb2QgPT4gKHtcbiAgICAgICAgICAgIGlkOiBmb29kLmlkLFxuICAgICAgICAgICAgbmFtZTogZm9vZC5jYW5vbmljYWxfbmFtZSxcbiAgICAgICAgICAgIHR5cGU6ICdjYW5vbmljYWwnLFxuICAgICAgICAgICAgY2F0ZWdvcnlfaWQ6IGZvb2QuY2F0ZWdvcnlfaWQsXG4gICAgICAgICAgICBtYXRjaFNjb3JlOiAyMCxcbiAgICAgICAgICAgIHByaW1hcnlfdW5pdDogZm9vZC5wcmltYXJ5X3VuaXQgfHwgJ3VuaXTDqXMnLFxuICAgICAgICAgICAgc2hlbGZfbGlmZV9kYXlzX3BhbnRyeTogMzAsXG4gICAgICAgICAgICBzaGVsZl9saWZlX2RheXNfZnJpZGdlOiA3LFxuICAgICAgICAgICAgc2hlbGZfbGlmZV9kYXlzX2ZyZWV6ZXI6IDkwLFxuICAgICAgICAgICAgaWNvbjogZ2V0Q2F0ZWdvcnlJY29uKGZvb2QuY2F0ZWdvcnlfaWQsIGZvb2QuY2Fub25pY2FsX25hbWUpXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2V0U2VhcmNoUmVzdWx0cyhyZXN1bHRzKTtcbiAgICAgICAgICAgIHNldElzVHJhbnNpdGlvbmluZyhmYWxzZSk7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZmFsbGJhY2tFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJldXIgZmFsbGJhY2s6JywgZmFsbGJhY2tFcnJvcik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHMoW10pO1xuICAgICAgICAgIHNldElzVHJhbnNpdGlvbmluZyhmYWxzZSk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNlYXJjaExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3N1cGFiYXNlLCBnZXRDYXRlZ29yeUljb24sIHNlYXJjaFJlc3VsdHMubGVuZ3RoXSk7XG5cbiAgLy8gQ2hhcmdlciBsZXMgc3VnZ2VzdGlvbnMgaW5pdGlhbGVzIHF1YW5kIGxlIG1vZGFsIHMnb3V2cmVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAob3BlbiAmJiBzdGVwID09PSAxKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcGVyZm9ybVNlYXJjaCgnJyk7XG4gICAgICB9LCAyMDApO1xuICAgIH1cbiAgfSwgW29wZW4sIHN0ZXAsIHBlcmZvcm1TZWFyY2hdKTtcblxuICAvLyBEZWJvdW5jZSBkZSBsYSByZWNoZXJjaGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2VhcmNoVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQoc2VhcmNoVGltZW91dFJlZi5jdXJyZW50KTtcbiAgICB9XG5cbiAgICBzZWFyY2hUaW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHBlcmZvcm1TZWFyY2goc2VhcmNoUXVlcnkpO1xuICAgIH0sIHNlYXJjaFF1ZXJ5Lmxlbmd0aCA9PT0gMCA/IDAgOiAzMDApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChzZWFyY2hUaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNlYXJjaFRpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3NlYXJjaFF1ZXJ5LCBwZXJmb3JtU2VhcmNoXSk7XG5cbiAgLy8gSW5jcsOpbWVudGF0aW9uIGludGVsbGlnZW50ZVxuICBjb25zdCBnZXRJbmNyZW1lbnRWYWx1ZSA9ICh1bml0KSA9PiB7XG4gICAgc3dpdGNoKHVuaXQpIHtcbiAgICAgIGNhc2UgJ2tnJzogcmV0dXJuIDAuMTtcbiAgICAgIGNhc2UgJ2cnOiByZXR1cm4gMTAwO1xuICAgICAgY2FzZSAnbWwnOlxuICAgICAgY2FzZSAnY2wnOiByZXR1cm4gMTAwO1xuICAgICAgY2FzZSAnTCc6IHJldHVybiAwLjU7XG4gICAgICBjYXNlICd1bml0w6lzJzpcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAwLjU7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFqdXN0ZXIgbGEgcXVhbnRpdMOpXG4gIGNvbnN0IGFkanVzdFF1YW50aXR5ID0gKGRpcmVjdGlvbikgPT4ge1xuICAgIGNvbnN0IGluY3JlbWVudCA9IGdldEluY3JlbWVudFZhbHVlKGxvdERhdGEudW5pdCk7XG4gICAgY29uc3QgY3VycmVudFF0eSA9IHBhcnNlRmxvYXQobG90RGF0YS5xdHlfcmVtYWluaW5nKSB8fCAwO1xuICAgIGxldCBuZXdRdHk7XG4gICAgXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJykge1xuICAgICAgbmV3UXR5ID0gY3VycmVudFF0eSArIGluY3JlbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3UXR5ID0gTWF0aC5tYXgoaW5jcmVtZW50LCBjdXJyZW50UXR5IC0gaW5jcmVtZW50KTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGxvdERhdGEudW5pdCA9PT0gJ2tnJykge1xuICAgICAgbmV3UXR5ID0gTWF0aC5yb3VuZChuZXdRdHkgKiAxMCkgLyAxMDtcbiAgICB9IGVsc2UgaWYgKGxvdERhdGEudW5pdCA9PT0gJ3VuaXTDqXMnKSB7XG4gICAgICBuZXdRdHkgPSBNYXRoLnJvdW5kKG5ld1F0eSAqIDIpIC8gMjtcbiAgICB9XG4gICAgXG4gICAgc2V0TG90RGF0YShwcmV2ID0+ICh7IC4uLnByZXYsIHF0eV9yZW1haW5pbmc6IG5ld1F0eSB9KSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUHJvZHVjdFNlbGVjdCA9IChwcm9kdWN0KSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRQcm9kdWN0KHByb2R1Y3QpO1xuICAgIGNvbnN0IHByZWZlcnJlZFVuaXQgPSBwcm9kdWN0LnByaW1hcnlfdW5pdCB8fCAndW5pdMOpcyc7XG4gICAgY29uc3QgZGVmYXVsdEV4cGlyYXRpb24gPSBnZXREZWZhdWx0RXhwaXJhdGlvbkRhdGUocHJvZHVjdCwgbG90RGF0YS5zdG9yYWdlX21ldGhvZCk7XG4gICAgXG4gICAgc2V0TG90RGF0YShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgdW5pdDogcHJlZmVycmVkVW5pdCxcbiAgICAgIHF0eV9yZW1haW5pbmc6IDEsXG4gICAgICBleHBpcmF0aW9uX2RhdGU6IGRlZmF1bHRFeHBpcmF0aW9uXG4gICAgfSkpO1xuICAgIFxuICAgIHNldFN0ZXAoMik7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3RvcmFnZU1ldGhvZENoYW5nZSA9IChtZXRob2QpID0+IHtcbiAgICBsZXQgcGxhY2UgPSAnR2FyZGUtbWFuZ2VyJztcbiAgICBpZiAobWV0aG9kID09PSAnZnJpZGdlJykgcGxhY2UgPSAnUsOpZnJpZ8OpcmF0ZXVyJztcbiAgICBpZiAobWV0aG9kID09PSAnZnJlZXplcicpIHBsYWNlID0gJ0NvbmfDqWxhdGV1cic7XG4gICAgXG4gICAgY29uc3QgbmV3RXhwaXJhdGlvbiA9IGdldERlZmF1bHRFeHBpcmF0aW9uRGF0ZShzZWxlY3RlZFByb2R1Y3QsIG1ldGhvZCk7XG4gICAgXG4gICAgc2V0TG90RGF0YShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgc3RvcmFnZV9tZXRob2Q6IG1ldGhvZCxcbiAgICAgIHN0b3JhZ2VfcGxhY2U6IHBsYWNlLFxuICAgICAgZXhwaXJhdGlvbl9kYXRlOiBuZXdFeHBpcmF0aW9uXG4gICAgfSkpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZUxvdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkUHJvZHVjdCB8fCAhbG90RGF0YS5xdHlfcmVtYWluaW5nKSB7XG4gICAgICB0b2FzdC53YXJuaW5nKCdWZXVpbGxleiBzw6lsZWN0aW9ubmVyIHVuIHByb2R1aXQgZXQgZW50cmVyIHVuZSBxdWFudGl0w6knKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBxdWFudGl0eSA9IHBhcnNlRmxvYXQobG90RGF0YS5xdHlfcmVtYWluaW5nKSB8fCAxO1xuICAgICAgXG4gICAgICAvLyBEw6l0ZXJtaW5lciBsZSB0eXBlIGRlIHByb2R1aXQgZXQgY29udmVydGlyIGwnSUQgZW4gZW50aWVyXG4gICAgICBsZXQgcHJvZHVjdFR5cGUgPSAnY2Fub25pY2FsJztcbiAgICAgIGxldCBwcm9kdWN0SWQgPSBudWxsO1xuICAgICAgXG4gICAgICBpZiAoc2VsZWN0ZWRQcm9kdWN0LnR5cGUgPT09ICdjdWx0aXZhcicpIHtcbiAgICAgICAgcHJvZHVjdFR5cGUgPSAnY3VsdGl2YXInO1xuICAgICAgICAvLyBFeHRyYWlyZSBsJ0lEIG51bcOpcmlxdWUgZHUgZm9ybWF0IFwiY3VsdF8xMjNcIlxuICAgICAgICBjb25zdCBpZFN0ciA9IHNlbGVjdGVkUHJvZHVjdC5pZC50b1N0cmluZygpLnJlcGxhY2UoJ2N1bHRfJywgJycpO1xuICAgICAgICBwcm9kdWN0SWQgPSBwYXJzZUludChpZFN0ciwgMTApO1xuICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZFByb2R1Y3QudHlwZSA9PT0gJ2FyY2hldHlwZScpIHtcbiAgICAgICAgcHJvZHVjdFR5cGUgPSAnYXJjaGV0eXBlJztcbiAgICAgICAgLy8gRXh0cmFpcmUgbCdJRCBudW3DqXJpcXVlIGR1IGZvcm1hdCBcImFyY2hfMTIzXCJcbiAgICAgICAgY29uc3QgaWRTdHIgPSBzZWxlY3RlZFByb2R1Y3QuaWQudG9TdHJpbmcoKS5yZXBsYWNlKCdhcmNoXycsICcnKTtcbiAgICAgICAgcHJvZHVjdElkID0gcGFyc2VJbnQoaWRTdHIsIDEwKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRQcm9kdWN0LnR5cGUgPT09ICdjdXN0b20nKSB7XG4gICAgICAgIHByb2R1Y3RUeXBlID0gJ2N1c3RvbSc7XG4gICAgICAgIHByb2R1Y3RJZCA9IG51bGw7IC8vIFBvdXIgbGVzIHByb2R1aXRzIGN1c3RvbSwgb24gdXRpbGlzZXJhIGxlcyBub3Rlc1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVHlwZSAnY2Fub25pY2FsJyAtIGNvbnZlcnRpciBsJ0lEIGVuIGVudGllclxuICAgICAgICBwcm9kdWN0VHlwZSA9ICdjYW5vbmljYWwnO1xuICAgICAgICBwcm9kdWN0SWQgPSBwYXJzZUludChzZWxlY3RlZFByb2R1Y3QuaWQsIDEwKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUHLDqXBhcmVyIGxlcyBkb25uw6llcyBwb3VyIGxhIG5vdXZlbGxlIHN0cnVjdHVyZSBpbnZlbnRvcnlfbG90c1xuICAgICAgY29uc3QgbG90RGF0YVRvSW5zZXJ0ID0ge1xuICAgICAgICBwcm9kdWN0X3R5cGU6IHByb2R1Y3RUeXBlLFxuICAgICAgICBwcm9kdWN0X2lkOiBwcm9kdWN0SWQsXG4gICAgICAgIHF0eV9yZW1haW5pbmc6IHF1YW50aXR5LFxuICAgICAgICBpbml0aWFsX3F0eTogcXVhbnRpdHksXG4gICAgICAgIHVuaXQ6IGxvdERhdGEudW5pdCxcbiAgICAgICAgc3RvcmFnZV9tZXRob2Q6IGxvdERhdGEuc3RvcmFnZV9tZXRob2QsXG4gICAgICAgIHN0b3JhZ2VfcGxhY2U6IGxvdERhdGEuc3RvcmFnZV9wbGFjZSxcbiAgICAgICAgZXhwaXJhdGlvbl9kYXRlOiBsb3REYXRhLmV4cGlyYXRpb25fZGF0ZSB8fCBudWxsLFxuICAgICAgICBhY3F1aXJlZF9vbjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICAgIG5vdGVzOiBzZWxlY3RlZFByb2R1Y3QudHlwZSA9PT0gJ2N1c3RvbScgPyBzZWxlY3RlZFByb2R1Y3QubmFtZSA6IG51bGxcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdEb25uw6llcyDDoCBpbnPDqXJlcjonLCBsb3REYXRhVG9JbnNlcnQpO1xuXG4gICAgICBjb25zdCB7IGRhdGE6IGNyZWF0ZWRMb3QsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnaW52ZW50b3J5X2xvdHMnKVxuICAgICAgICAuaW5zZXJ0KFtsb3REYXRhVG9JbnNlcnRdKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyZXVyIFN1cGFiYXNlOicsIGVycm9yKTtcbiAgICAgICAgdG9hc3QuZXJyb3IoYEVycmV1ciBsb3JzIGRlIGxhIGNyw6lhdGlvbjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdMb3QgY3LDqcOpOicsIGNyZWF0ZWRMb3QpO1xuICAgICAgdG9hc3Quc3VjY2VzcyhgJHtmb3JtYXRQcm9kdWN0TmFtZShzZWxlY3RlZFByb2R1Y3QubmFtZSl9IGFqb3V0w6kgYXUgZ2FyZGUtbWFuZ2VyICFgKTtcbiAgICAgIG9uTG90Q3JlYXRlZD8uKGNyZWF0ZWRMb3QpO1xuICAgICAgb25DbG9zZSgpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBjcsOpYXRpb24gbG90OicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKCdFcnJldXIgbG9ycyBkZSBsYSBjcsOpYXRpb24gZHUgbG90Jyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBpZiAoIW9wZW4pIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1vdmVybGF5XCIgb25DbGljaz17b25DbG9zZX0+XG4gICAgICA8ZGl2IFxuICAgICAgICByZWY9e21vZGFsUmVmfVxuICAgICAgICBjbGFzc05hbWU9XCJtb2RhbC1jb250YWluZXJcIiBcbiAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItdGl0bGVcIj5cbiAgICAgICAgICAgIDxQbHVzIHNpemU9ezIwfSAvPlxuICAgICAgICAgICAgQWpvdXRlciB1biBwcm9kdWl0XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsb3NlfSBjbGFzc05hbWU9XCJjbG9zZS1idG5cIj5cbiAgICAgICAgICAgIDxYIHNpemU9ezE4fSAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICB7c3RlcCA9PT0gMSAmJiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlYXJjaC1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2gtd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHJlZj17c2VhcmNoSW5wdXRSZWZ9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJSZWNoZXJjaGVyIHVuIHByb2R1aXQuLi5cIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoUXVlcnl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoUXVlcnkoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWFyY2gtaW5wdXRcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHtzZWFyY2hMb2FkaW5nICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLWxvYWRpbmdcIj5SZWNoZXJjaGUuLi48L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BzZWFyY2gtcmVzdWx0cyAke2lzVHJhbnNpdGlvbmluZyA/ICd0cmFuc2l0aW9uaW5nJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAge3NlYXJjaFJlc3VsdHMubWFwKChwcm9kdWN0KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake3Byb2R1Y3QudHlwZX0tJHtwcm9kdWN0LmlkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJvZHVjdC1pdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVQcm9kdWN0U2VsZWN0KHByb2R1Y3QpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHJvZHVjdC1pY29uXCI+e3Byb2R1Y3QuaWNvbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0LWluZm9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInByb2R1Y3QtbmFtZVwiPntmb3JtYXRQcm9kdWN0TmFtZShwcm9kdWN0Lm5hbWUpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHByb2R1Y3QtY2F0ZWdvcnktYmFkZ2UgJHtnZXRDYXRlZ29yeUluZm8ocHJvZHVjdC5jYXRlZ29yeV9pZCwgcHJvZHVjdC5zdWJjYXRlZ29yeV9pZCwgcHJvZHVjdC5uYW1lKS5jbGFzc31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2dldENhdGVnb3J5SW5mbyhwcm9kdWN0LmNhdGVnb3J5X2lkLCBwcm9kdWN0LnN1YmNhdGVnb3J5X2lkLCBwcm9kdWN0Lm5hbWUpLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICB7IXNlYXJjaExvYWRpbmcgJiYgc2VhcmNoUmVzdWx0cy5sZW5ndGggPT09IDAgJiYgc2VhcmNoUXVlcnkgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5vLXJlc3VsdHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PkF1Y3VuIHByb2R1aXQgdHJvdXbDqSBwb3VyIFwie3NlYXJjaFF1ZXJ5fVwiPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuby1yZXN1bHRzLXRpcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgVm91bGV6LXZvdXMgY3LDqWVyIGNlIHByb2R1aXQgP1xuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVQcm9kdWN0U2VsZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdjdXN0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzZWFyY2hRdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5X2lkOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5X3VuaXQ6ICd1bml0w6lzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGZfbGlmZV9kYXlzX3BhbnRyeTogNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGZfbGlmZV9kYXlzX2ZyaWRnZTogNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGZfbGlmZV9kYXlzX2ZyZWV6ZXI6IDkwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAn8J+TpidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3JlYXRlLWN1c3RvbS1idG5cIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIOKcqCBDcsOpZXIgXCJ7c2VhcmNoUXVlcnl9XCJcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgeyFzZWFyY2hMb2FkaW5nICYmIHNlYXJjaFJlc3VsdHMubGVuZ3RoID09PSAwICYmICFzZWFyY2hRdWVyeSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm8tcmVzdWx0c1wiPlxuICAgICAgICAgICAgICAgICAgICAgIENoYXJnZW1lbnQgZGVzIHN1Z2dlc3Rpb25zLi4uXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge3N0ZXAgPT09IDIgJiYgc2VsZWN0ZWRQcm9kdWN0ICYmIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0ZWQtcHJvZHVjdC1jYXJkXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHJvZHVjdC1pY29uLWxhcmdlXCI+XG4gICAgICAgICAgICAgICAgICB7Z2V0Q2F0ZWdvcnlJY29uKHNlbGVjdGVkUHJvZHVjdC5jYXRlZ29yeV9pZCwgc2VsZWN0ZWRQcm9kdWN0Lm5hbWUpfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2R1Y3QtZGV0YWlsc1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0LW5hbWVcIj57Zm9ybWF0UHJvZHVjdE5hbWUoc2VsZWN0ZWRQcm9kdWN0Lm5hbWUpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9kdWN0LWNhdGVnb3J5XCI+XG4gICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFByb2R1Y3Quc3ViY2F0ZWdvcnkgfHwgJ0fDqW7DqXJhbCd9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFN0ZXAoMSl9IGNsYXNzTmFtZT1cImNoYW5nZS1idG5cIj5cbiAgICAgICAgICAgICAgICAgIENoYW5nZXJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1YW50aXR5LXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbD5RdWFudGl0w6k8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWFudGl0eS1jb250cm9sc1wiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGFkanVzdFF1YW50aXR5KCdkb3duJyl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicXR5LWJ0blwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAtXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bG90RGF0YS5xdHlfcmVtYWluaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TG90RGF0YShwcmV2ID0+ICh7IC4uLnByZXYsIHF0eV9yZW1haW5pbmc6IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpIHx8IDAgfSkpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInF0eS1pbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3RlcD17Z2V0SW5jcmVtZW50VmFsdWUobG90RGF0YS51bml0KX1cbiAgICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBhZGp1c3RRdWFudGl0eSgndXAnKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJxdHktYnRuXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICtcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidW5pdC1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICA8bGFiZWw+VW5pdMOpPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2xvdERhdGEudW5pdH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRMb3REYXRhKHByZXYgPT4gKHsgLi4ucHJldiwgdW5pdDogZS50YXJnZXQudmFsdWUgfSkpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1bml0LXNlbGVjdFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ1bml0w6lzXCI+VW5pdMOpczwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwia2dcIj5LaWxvZ3JhbW1lczwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZ1wiPkdyYW1tZXM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkxcIj5MaXRyZXM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm1sXCI+TWlsbGlsaXRyZXM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImNsXCI+Q2VudGlsaXRyZXM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdG9yYWdlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbD5TdG9ja2FnZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0b3JhZ2UtbWV0aG9kc1wiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RvcmFnZU1ldGhvZENoYW5nZSgncGFudHJ5Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgc3RvcmFnZS1idG4gJHtsb3REYXRhLnN0b3JhZ2VfbWV0aG9kID09PSAncGFudHJ5JyA/ICdhY3RpdmUnIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxBcmNoaXZlIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICAgICAgICAgIEdhcmRlLW1hbmdlclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN0b3JhZ2VNZXRob2RDaGFuZ2UoJ2ZyaWRnZScpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHN0b3JhZ2UtYnRuICR7bG90RGF0YS5zdG9yYWdlX21ldGhvZCA9PT0gJ2ZyaWRnZScgPyAnYWN0aXZlJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8SG9tZSBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICBGcmlnb1xuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN0b3JhZ2VNZXRob2RDaGFuZ2UoJ2ZyZWV6ZXInKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BzdG9yYWdlLWJ0biAke2xvdERhdGEuc3RvcmFnZV9tZXRob2QgPT09ICdmcmVlemVyJyA/ICdhY3RpdmUnIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxTbm93Zmxha2Ugc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgQ29uZ8OpbGF0ZXVyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImV4cGlyYXRpb24tc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsPkRhdGUgZCdleHBpcmF0aW9uPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXhwaXJhdGlvbi1pbnB1dFwiPlxuICAgICAgICAgICAgICAgICAgICA8Q2FsZW5kYXIgc2l6ZT17MTZ9IGNsYXNzTmFtZT1cImNhbGVuZGFyLWljb25cIiAvPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2xvdERhdGEuZXhwaXJhdGlvbl9kYXRlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TG90RGF0YShwcmV2ID0+ICh7IC4uLnByZXYsIGV4cGlyYXRpb25fZGF0ZTogZS50YXJnZXQudmFsdWUgfSkpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRhdGUtaW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICB7c3RlcCA9PT0gMiAmJiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFN0ZXAoMSl9IGNsYXNzTmFtZT1cImJhY2stYnRuXCI+XG4gICAgICAgICAgICAgICAgUmV0b3VyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNyZWF0ZUxvdH0gXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3JlYXRlLWJ0blwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bG9hZGluZyA/ICdDcsOpYXRpb24uLi4nIDogJ0Nyw6llciBsZSBsb3QnfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJTZWFyY2giLCJQbHVzIiwiWCIsIlBhY2thZ2UiLCJIb21lIiwiU25vd2ZsYWtlIiwiQXJjaGl2ZSIsIkNhbGVuZGFyIiwiY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50IiwidG9hc3QiLCJsZXZlbnNodGVpbkRpc3RhbmNlIiwic3RyMSIsInN0cjIiLCJtYXRyaXgiLCJpIiwibGVuZ3RoIiwiaiIsImNoYXJBdCIsIk1hdGgiLCJtaW4iLCJmb3JtYXRQcm9kdWN0TmFtZSIsIm5hbWUiLCJsb3dlcmNhc2VXb3JkcyIsInNwZWNpYWxDYXNlcyIsImNsZWFuTmFtZSIsInRyaW0iLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJzcGxpdCIsIm1hcCIsIndvcmQiLCJpbmRleCIsImluY2x1ZGVzIiwicGFydHMiLCJwYXJ0IiwicGFydEluZGV4IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImpvaW4iLCJTbWFydEFkZEZvcm0iLCJvcGVuIiwib25DbG9zZSIsIm9uTG90Q3JlYXRlZCIsInN0ZXAiLCJzZXRTdGVwIiwic2VhcmNoUXVlcnkiLCJzZXRTZWFyY2hRdWVyeSIsInNlYXJjaFJlc3VsdHMiLCJzZXRTZWFyY2hSZXN1bHRzIiwic2VhcmNoTG9hZGluZyIsInNldFNlYXJjaExvYWRpbmciLCJzZWxlY3RlZFByb2R1Y3QiLCJzZXRTZWxlY3RlZFByb2R1Y3QiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImNhdGVnb3JpZXMiLCJzZXRDYXRlZ29yaWVzIiwiaXNUcmFuc2l0aW9uaW5nIiwic2V0SXNUcmFuc2l0aW9uaW5nIiwibG90RGF0YSIsInNldExvdERhdGEiLCJxdHlfcmVtYWluaW5nIiwidW5pdCIsInN0b3JhZ2VfbWV0aG9kIiwic3RvcmFnZV9wbGFjZSIsImV4cGlyYXRpb25fZGF0ZSIsIm1vZGFsUmVmIiwic2VhcmNoSW5wdXRSZWYiLCJzZWFyY2hUaW1lb3V0UmVmIiwic3VwYWJhc2UiLCJzdWJjYXRlZ29yaWVzIiwic2V0U3ViY2F0ZWdvcmllcyIsImxvYWRDYXRlZ29yaWVzRGF0YSIsImRhdGEiLCJjYXRlZ29yaWVzRGF0YSIsImZyb20iLCJzZWxlY3QiLCJvcmRlciIsInN1YmNhdGVnb3JpZXNEYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2V0VGltZW91dCIsImN1cnJlbnQiLCJmb2N1cyIsImdldENhdGVnb3J5SWNvbiIsImNhdGVnb3J5SWQiLCJwcm9kdWN0TmFtZSIsIm5hbWVMb3dlciIsImNhdGVnb3J5IiwiZmluZCIsImNhdCIsImlkIiwiaWNvbiIsIm5hbWVJY29ucyIsImtleSIsIk9iamVjdCIsImVudHJpZXMiLCJnZXRDYXRlZ29yeUluZm8iLCJzdWJjYXRlZ29yeUlkIiwiY2xhc3MiLCJzdWJjYXRlZ29yeSIsInN1YiIsImxhYmVsIiwiY2F0ZWdvcnlNYXBwaW5nIiwiZ2V0RGVmYXVsdEV4cGlyYXRpb25EYXRlIiwicHJvZHVjdCIsInN0b3JhZ2VNZXRob2QiLCJkYXlzIiwic2hlbGZfbGlmZV9kYXlzX2ZyaWRnZSIsInNoZWxmX2xpZmVfZGF5c19mcmVlemVyIiwic2hlbGZfbGlmZV9kYXlzX3BhbnRyeSIsImRhdGUiLCJEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJ0b0lTT1N0cmluZyIsInBlcmZvcm1TZWFyY2giLCJxdWVyeSIsIlByb21pc2UiLCJyZXNvbHZlIiwicSIsInRvcFByb2R1Y3RzIiwibGltaXQiLCJyZXN1bHRzIiwiZm9vZCIsImNhbm9uaWNhbF9uYW1lIiwidHlwZSIsImNhdGVnb3J5X2lkIiwic3ViY2F0ZWdvcnlfaWQiLCJtYXRjaFNjb3JlIiwicHJpbWFyeV91bml0IiwiYWxsUmVzdWx0cyIsInNlZW5OYW1lcyIsIlNldCIsImNhbm9uaWNhbEZvb2RzIiwib3IiLCJhbGxDYW5vbmljYWwiLCJmb3JFYWNoIiwiaGFzIiwicHVzaCIsInNvdXJjZV9uYW1lIiwiYWRkIiwiYXJjaGV0eXBlcyIsImlsaWtlIiwiYXJjaGV0eXBlIiwiY2Fub25pY2FsX2Zvb2RzIiwic2hlbGZfbGlmZV9kYXlzIiwia2V5d29yZHMiLCJjdWx0aXZhcnMiLCJjdWx0aXZhciIsInNjb3JlZFJlc3VsdHMiLCJpdGVtIiwic3RhcnRzV2l0aCIsImRpc3RhbmNlIiwibWF4TGVuZ3RoIiwibWF4IiwibWluTGVuZ3RoIiwic2ltaWxhcml0eSIsImFicyIsImZsb29yIiwiQXJyYXkiLCJpc0FycmF5IiwiaGFzS2V5d29yZCIsInNvbWUiLCJrZXl3b3JkIiwiZmluYWxSZXN1bHRzIiwiZmlsdGVyIiwiciIsInNvcnQiLCJhIiwiYiIsImV4aXN0aW5nTmFtZXMiLCJmYWxsYmFja1Byb2R1Y3RzIiwiZmFsbGJhY2tFcnJvciIsImNsZWFyVGltZW91dCIsImdldEluY3JlbWVudFZhbHVlIiwiYWRqdXN0UXVhbnRpdHkiLCJkaXJlY3Rpb24iLCJpbmNyZW1lbnQiLCJjdXJyZW50UXR5IiwicGFyc2VGbG9hdCIsIm5ld1F0eSIsInJvdW5kIiwicHJldiIsImhhbmRsZVByb2R1Y3RTZWxlY3QiLCJwcmVmZXJyZWRVbml0IiwiZGVmYXVsdEV4cGlyYXRpb24iLCJoYW5kbGVTdG9yYWdlTWV0aG9kQ2hhbmdlIiwibWV0aG9kIiwicGxhY2UiLCJuZXdFeHBpcmF0aW9uIiwiaGFuZGxlQ3JlYXRlTG90Iiwid2FybmluZyIsInF1YW50aXR5IiwicHJvZHVjdFR5cGUiLCJwcm9kdWN0SWQiLCJpZFN0ciIsInRvU3RyaW5nIiwicGFyc2VJbnQiLCJsb3REYXRhVG9JbnNlcnQiLCJwcm9kdWN0X3R5cGUiLCJwcm9kdWN0X2lkIiwiaW5pdGlhbF9xdHkiLCJhY3F1aXJlZF9vbiIsIm5vdGVzIiwiY3JlYXRlZExvdCIsImluc2VydCIsInNpbmdsZSIsIm1lc3NhZ2UiLCJzdWNjZXNzIiwiZGl2IiwiY2xhc3NOYW1lIiwib25DbGljayIsInJlZiIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJzaXplIiwiYnV0dG9uIiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJzcGFuIiwib3B0aW9uIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/pantry/components/SmartAddForm.js\n"));

/***/ })

});