(()=>{var e={};e.id=626,e.ids=[626],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},7233:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.ZP,__next_app__:()=>c,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>l}),r(7163),r(5068),r(3909),r(6926),r(5866);var s=r(3191),a=r(8716),n=r(5383),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let l=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7163)),"/workspaces/garde-manger-app/app/login/page.jsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,5068)),"/workspaces/garde-manger-app/app/login/layout.jsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,3909)),"/workspaces/garde-manger-app/app/layout.js"],error:[()=>Promise.resolve().then(r.bind(r,6926)),"/workspaces/garde-manger-app/app/error.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/workspaces/garde-manger-app/app/login/page.jsx"],p="/login/page",c={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4514:(e,t,r)=>{Promise.resolve().then(r.bind(r,8449))},2286:()=>{},8449:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(326),a=r(7577),n=r(5047),i=r(4122);function o(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[d,p]=(0,a.useState)(!1),[c,u]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),x=async r=>{r.preventDefault(),p(!0),u("");try{let{data:r,error:s}=await i.OQ.auth.signInWithPassword({email:t,password:o});s?u(s.message):e.push("/")}catch(e){u("Une erreur est survenue")}finally{p(!1)}},h=async()=>{p(!0),u(""),g("");try{let{error:e}=await i.OQ.auth.signInWithOtp({email:t,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});e?u(e.message):g("V\xe9rifiez votre email pour le lien de connexion !")}catch(e){u("Une erreur est survenue")}finally{p(!1)}};return s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 100px)",padding:"2rem"},children:(0,s.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"400px",padding:"2rem"},children:[s.jsx("h1",{style:{textAlign:"center",marginBottom:"2rem"},children:"\uD83C\uDF44 Connexion \xe0 Myko"}),c&&s.jsx("div",{style:{padding:"1rem",background:"#fee",color:"#c00",borderRadius:"4px",marginBottom:"1rem"},children:c}),m&&s.jsx("div",{style:{padding:"1rem",background:"#efe",color:"#060",borderRadius:"4px",marginBottom:"1rem"},children:m}),(0,s.jsxs)("form",{onSubmit:x,children:[(0,s.jsxs)("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{htmlFor:"email",children:"Email"}),s.jsx("input",{id:"email",type:"email",className:"input",value:t,onChange:e=>r(e.target.value),required:!0,placeholder:"votre@email.com"})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{htmlFor:"password",children:"Mot de passe"}),s.jsx("input",{id:"password",type:"password",className:"input",value:o,onChange:e=>l(e.target.value),required:!0,placeholder:"••••••••"})]}),s.jsx("button",{type:"submit",className:"btn",disabled:d,style:{width:"100%",marginBottom:"1rem"},children:d?"Connexion...":"Se connecter"}),s.jsx("button",{type:"button",className:"btn secondary",onClick:h,disabled:d||!t,style:{width:"100%"},children:"Envoyer un lien magique"})]}),(0,s.jsxs)("p",{style:{textAlign:"center",marginTop:"2rem",fontSize:"0.9rem",color:"#666"},children:["Pas encore de compte ?",s.jsx("br",{}),"Contactez l'administrateur"]})]})})}},5068:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,dynamic:()=>a,revalidate:()=>n});var s=r(9510);let a="force-dynamic",n=0;function i({children:e}){return s.jsx("html",{lang:"fr",children:s.jsx("body",{style:{background:"#fafafa"},children:e})})}},7163:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=r(8570);let a=(0,s.createProxy)(String.raw`/workspaces/garde-manger-app/app/login/page.jsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`/workspaces/garde-manger-app/app/login/page.jsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,618,146],()=>r(7233));module.exports=s})();