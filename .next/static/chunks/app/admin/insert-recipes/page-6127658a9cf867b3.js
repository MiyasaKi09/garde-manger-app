(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[535],{7872:function(e,r,i){Promise.resolve().then(i.bind(i,3612))},3612:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return a}});var s=i(7437),n=i(2265),t=i(5626);function a(){let[e,r]=(0,n.useState)(!1),[i,a]=(0,n.useState)("");async function l(){r(!0),a("");try{console.log("D\xe9but insertion des recettes de test...");let{error:e}=await t.OQ.from("recipe_categories").upsert([{name:"Entr\xe9es",slug:"entrees",icon:"\uD83E\uDD57"},{name:"Plats principaux",slug:"plats-principaux",icon:"\uD83C\uDF7D️"},{name:"Soupes",slug:"soupes",icon:"\uD83C\uDF72"}],{onConflict:"slug"});if(e)throw console.error("Erreur cat\xe9gories:",e),e;let{error:r}=await t.OQ.from("cuisine_types").upsert([{name:"Fran\xe7aise",slug:"francaise",flag:"\uD83C\uDDEB\uD83C\uDDF7"},{name:"Italienne",slug:"italienne",flag:"\uD83C\uDDEE\uD83C\uDDF9"},{name:"Indienne",slug:"indienne",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{name:"Asiatique",slug:"asiatique",flag:"\uD83E\uDD62"}],{onConflict:"slug"});if(r)throw console.error("Erreur cuisines:",r),r;let{error:i}=await t.OQ.from("difficulty_levels").upsert([{level:"tr\xe8s_facile",name:"Tr\xe8s facile",description:"Accessible \xe0 tous, moins de 30min",sort_order:1},{level:"facile",name:"Facile",description:"Techniques de base, 30-60min",sort_order:2},{level:"moyen",name:"Moyen",description:"Quelques techniques, 1-2h",sort_order:3},{level:"difficile",name:"Difficile",description:"Techniques avanc\xe9es, plus de 2h",sort_order:4}],{onConflict:"level"});if(i)throw console.error("Erreur difficult\xe9s:",i),i;let{data:s}=await t.OQ.from("recipe_categories").select("id, slug"),{data:n}=await t.OQ.from("cuisine_types").select("id, slug"),{data:l}=await t.OQ.from("difficulty_levels").select("id, level"),o=Object.fromEntries(s.map(e=>[e.slug,e.id])),u=Object.fromEntries(n.map(e=>[e.slug,e.id])),c=Object.fromEntries(l.map(e=>[e.level,e.id])),d=[{title:"Ratatouille Proven\xe7ale",slug:"ratatouille-provencale",description:"Mijot\xe9 de l\xe9gumes du soleil : aubergines, courgettes, tomates, poivrons. Un classique de la cuisine fran\xe7aise parfait pour l'\xe9t\xe9.",short_description:"D\xe9licieux plat de l\xe9gumes m\xe9diterran\xe9ens",instructions:"Couper tous les l\xe9gumes en d\xe9s r\xe9guliers. Dans une large po\xeale, faire revenir s\xe9par\xe9ment les aubergines, puis les courgettes, puis les poivrons dans l'huile d'olive. R\xe9server chaque l\xe9gume. Dans la m\xeame po\xeale, faire revenir l'oignon \xe9minc\xe9, ajouter l'ail hach\xe9. Remettre tous les l\xe9gumes, ajouter les tomates concass\xe9es, les herbes de Provence, le thym, le laurier. Saler, poivrer. Mijoter \xe0 feu doux 45 minutes en remuant de temps en temps.",category_id:o["plats-principaux"],cuisine_type_id:u.francaise,difficulty_level_id:c.facile,servings:6,prep_min:30,cook_min:45,rest_min:0,calories:180,proteins:6.2,carbs:22.5,fats:9.1,fiber:8.3,estimated_cost:3.5,budget_category:"\xe9conomique",skill_level:"d\xe9butant",season_spring:!1,season_summer:!0,season_autumn:!0,season_winter:!1,meal_breakfast:!1,meal_lunch:!0,meal_dinner:!0,meal_snack:!1,is_vegetarian:!0,is_vegan:!0,is_gluten_free:!0,chef_tips:"Cuire les l\xe9gumes s\xe9par\xe9ment d'abord pour une meilleure texture. La ratatouille est encore meilleure r\xe9chauff\xe9e le lendemain.",author_name:"Chef Myko"},{title:"Curry de lentilles corail",slug:"curry-lentilles-corail",description:"Curry v\xe9g\xe9tarien aux lentilles corail, lait de coco et \xe9pices indiennes. Riche en prot\xe9ines et en saveurs.",short_description:"Curry v\xe9g\xe9tarien \xe9pic\xe9 et nutritif",instructions:"Rincer les lentilles corail \xe0 l'eau froide. Dans une casserole, faire chauffer l'huile et faire revenir l'oignon \xe9minc\xe9 jusqu'\xe0 ce qu'il soit translucide. Ajouter l'ail, le gingembre r\xe2p\xe9 et les \xe9pices (curcuma, cumin, coriandre, garam masala). Faire revenir 1 minute. Ajouter les lentilles, les tomates concass\xe9es et le lait de coco. Porter \xe0 \xe9bullition puis r\xe9duire le feu et laisser mijoter 25-30 minutes jusqu'\xe0 ce que les lentilles soient tendres. Saler, poivrer et ajouter le jus de citron. Garnir de coriandre fra\xeeche.",category_id:o["plats-principaux"],cuisine_type_id:u.indienne,difficulty_level_id:c.moyen,servings:4,prep_min:20,cook_min:35,rest_min:0,calories:320,proteins:18.4,carbs:42.1,fats:12.3,fiber:16.2,estimated_cost:2.8,budget_category:"\xe9conomique",skill_level:"interm\xe9diaire",season_spring:!0,season_summer:!0,season_autumn:!0,season_winter:!0,meal_breakfast:!1,meal_lunch:!0,meal_dinner:!0,meal_snack:!1,is_vegetarian:!0,is_vegan:!0,is_gluten_free:!0,chef_tips:"Rincer les lentilles corail avant cuisson pour \xe9viter l'\xe9cume. Ajuster la consistance avec un peu d'eau si n\xe9cessaire.",author_name:"Chef Myko"},{title:"Soupe de potimarron r\xf4ti",slug:"soupe-potimarron-roti",description:"Velout\xe9 onctueux de potimarron r\xf4ti avec une pointe de gingembre. Parfait pour les soir\xe9es d'automne.",short_description:"Velout\xe9 automnal r\xe9confortant",instructions:"Pr\xe9chauffer le four \xe0 200\xb0C. Couper le potimarron en quartiers, retirer les graines. Badigeonner d'huile d'olive et r\xf4tir 30 minutes. Pendant ce temps, faire suer l'oignon dans une casserole avec un peu d'huile. Ajouter le gingembre r\xe2p\xe9. Quand le potimarron est tendre, retirer la chair et l'ajouter \xe0 la casserole. Verser le bouillon, porter \xe0 \xe9bullition et laisser mijoter 15 minutes. Mixer jusqu'\xe0 obtenir un velout\xe9 lisse. Ajouter la cr\xe8me, saler et poivrer. Servir avec des graines de courge grill\xe9es.",category_id:o.soupes,cuisine_type_id:u.francaise,difficulty_level_id:c.facile,servings:6,prep_min:20,cook_min:45,rest_min:0,calories:145,proteins:4.1,carbs:18.2,fats:7.3,fiber:5.1,estimated_cost:2.2,budget_category:"\xe9conomique",skill_level:"d\xe9butant",season_spring:!1,season_summer:!1,season_autumn:!0,season_winter:!0,meal_breakfast:!1,meal_lunch:!0,meal_dinner:!0,meal_snack:!1,is_vegetarian:!0,is_vegan:!0,is_gluten_free:!0,chef_tips:"R\xf4tir le potimarron au four d\xe9veloppe ses saveurs. Garder quelques graines pour les faire griller en accompagnement.",author_name:"Chef Myko"}],{data:p,error:m}=await t.OQ.from("recipes").upsert(d,{onConflict:"slug"}).select();if(m)throw console.error("Erreur recettes:",m),m;console.log("Recettes ins\xe9r\xe9es:",p),a("✅ ".concat(p.length," recettes ins\xe9r\xe9es avec succ\xe8s !"))}catch(e){console.error("Erreur lors de l'insertion:",e),a("❌ Erreur: ".concat(e.message))}finally{r(!1)}}return(0,s.jsxs)("div",{style:{padding:"40px",maxWidth:"600px",margin:"0 auto",fontFamily:"system-ui, -apple-system, sans-serif"},children:[(0,s.jsx)("h1",{children:"Administration - Recettes de Test"}),(0,s.jsx)("p",{children:"Cette page permet d'ins\xe9rer des recettes de test dans votre base de donn\xe9es Supabase."}),(0,s.jsx)("button",{onClick:l,disabled:e,style:{padding:"12px 24px",background:e?"#ccc":"#22c55e",color:"white",border:"none",borderRadius:"8px",cursor:e?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600"},children:e?"Insertion en cours...":"Ins\xe9rer 3 recettes de test"}),i&&(0,s.jsx)("div",{style:{marginTop:"20px",padding:"16px",borderRadius:"8px",background:i.includes("✅")?"#dcfce7":"#fee2e2",color:i.includes("✅")?"#16a34a":"#dc2626",border:"1px solid "+(i.includes("✅")?"#bbf7d0":"#fecaca")},children:i}),(0,s.jsxs)("div",{style:{marginTop:"30px"},children:[(0,s.jsx)("h3",{children:"Apr\xe8s insertion :"}),(0,s.jsxs)("ol",{children:[(0,s.jsxs)("li",{children:["Allez sur ",(0,s.jsx)("a",{href:"/recipes",style:{color:"#2563eb"},children:"la page des recettes"})]}),(0,s.jsx)("li",{children:"Vous devriez voir les 3 recettes avec leurs vrais temps de cuisson"}),(0,s.jsx)("li",{children:'Testez en cliquant sur "Voir" pour voir les d\xe9tails'})]})]})]})}},5626:function(e,r,i){"use strict";i.d(r,{OQ:function(){return a}});var s=i(6887);let n="https://yylkwfikfbottngglaxj.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl5bGt3ZmlrZmJvdHRuZ2dsYXhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1NjUwNzAsImV4cCI6MjA3MjE0MTA3MH0.h-GTmBH9onVHNJLLuafw9jwS9G8azVaQGelf-oUK-xc",a=null;if(n&&t)try{console.log("\uD83D\uDD17 Connexion \xe0 Supabase r\xe9el:",n),a=(0,s.eI)(n,t,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}catch(e){console.error("[Supabase] Erreur lors de la cr\xe9ation du client",e instanceof Error?e:Error(String(e)))}else{let e=[!n&&"NEXT_PUBLIC_SUPABASE_URL",!t&&"NEXT_PUBLIC_SUPABASE_ANON_KEY"].filter(Boolean);Error("Supabase non configur\xe9. Variables manquantes: ".concat(e.join(", ")))}}},function(e){e.O(0,[887,971,23,744],function(){return e(e.s=7872)}),_N_E=e.O()}]);