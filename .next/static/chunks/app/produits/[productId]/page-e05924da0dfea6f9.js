(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[428],{588:function(e,n,t){Promise.resolve().then(t.bind(t,455))},455:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var r=t(7437),s=t(2265),a=t(6463),u=t(5626);function i(){let{productId:e}=(0,a.useParams)(),[n,t]=(0,s.useState)([]),[i,o]=(0,s.useState)("…");return(0,s.useEffect)(()=>{(async()=>{let{data:n}=await u.OQ.from("products_catalog").select("name").eq("id",e).single();n&&o(n.name);let{data:r}=await u.OQ.from("inventory_lots").select("id, qty, unit, dlc, entered_at, location:locations(name)").eq("product_id",e).order("dlc",{ascending:!0});t(r||[])})()},[e]),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:i}),0===n.length?(0,r.jsx)("p",{children:"Aucun lot."}):n.map(e=>{var n;return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("strong",{children:[e.qty," ",e.unit]})," — ",(null===(n=e.location)||void 0===n?void 0:n.name)||"—"]}),(0,r.jsxs)("div",{style:{opacity:.7},children:["DLC ",e.dlc||"—"," • Entr\xe9 le ",e.entered_at||"—"]})]},e.id)})]})}},5626:function(e,n,t){"use strict";t.d(n,{OQ:function(){return u}});var r=t(6887);let s="https://yylkwfikfbottngglaxj.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl5bGt3ZmlrZmJvdHRuZ2dsYXhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1NjUwNzAsImV4cCI6MjA3MjE0MTA3MH0.h-GTmBH9onVHNJLLuafw9jwS9G8azVaQGelf-oUK-xc",u=null;if(s&&a)try{console.log("\uD83D\uDD17 Connexion \xe0 Supabase r\xe9el:",s),u=(0,r.eI)(s,a,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}catch(e){console.error("[Supabase] Erreur lors de la cr\xe9ation du client",e instanceof Error?e:Error(String(e)))}else{let e=[!s&&"NEXT_PUBLIC_SUPABASE_URL",!a&&"NEXT_PUBLIC_SUPABASE_ANON_KEY"].filter(Boolean);Error("Supabase non configur\xe9. Variables manquantes: ".concat(e.join(", ")))}},6463:function(e,n,t){"use strict";var r=t(1169);t.o(r,"useParams")&&t.d(n,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(n,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(n,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(n,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[887,971,23,744],function(){return e(e.s=588)}),_N_E=e.O()}]);