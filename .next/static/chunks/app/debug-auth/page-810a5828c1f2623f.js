(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{8233:function(e,s,n){Promise.resolve().then(n.bind(n,6260))},6260:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return r}});var t=n(7437),a=n(2265),i=n(5626);function r(){let[e,s]=(0,a.useState)(null),[n,r]=(0,a.useState)(null),[l,c]=(0,a.useState)([]);function o(){for(var e=arguments.length,s=Array(e),n=0;n<e;n++)s[n]=arguments[n];c(e=>[new Date().toLocaleTimeString()+" - "+s.join(" "),...e].slice(0,200))}async function u(){let e=await i.OQ.auth.getSession();s(e.data.session),o("manual getSession ->",e.data.session?"OK":"NULL");let n=await i.OQ.auth.getUser();r(n.data.user||null),o("manual getUser ->",n.data.user?"OK":"NULL")}return(0,a.useEffect)(()=>{(async()=>{let e=await i.OQ.auth.getSession();s(e.data.session),o("getSession ->",e.data.session?"OK":"NULL");let n=await i.OQ.auth.getUser();r(n.data.user||null),o("getUser ->",n.data.user?"OK":"NULL")})();let{data:e}=i.OQ.auth.onAuthStateChange((e,n)=>{o("onAuthStateChange: ".concat(e," (session=").concat(n?"OK":"NULL",")")),s(n)});return()=>e.subscription.unsubscribe()},[]),(0,t.jsxs)("div",{className:"p-4",style:{maxWidth:800,margin:"0 auto",display:"grid",gap:12},children:[(0,t.jsx)("h1",{children:"Debug Auth"}),(0,t.jsxs)("div",{className:"card",style:{display:"grid",gap:6},children:[(0,t.jsxs)("div",{children:["SUPABASE_URL host : ",(0,t.jsx)("code",{children:new URL("https://yylkwfikfbottngglaxj.supabase.co").host})]}),(0,t.jsxs)("div",{children:["ANON key (d\xe9but) : ",(0,t.jsx)("code",{children:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return e?e.slice(0,s)+"…":"(absent)"}("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl5bGt3ZmlrZmJvdHRuZ2dsYXhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1NjUwNzAsImV4cCI6MjA3MjE0MTA3MH0.h-GTmBH9onVHNJLLuafw9jwS9G8azVaQGelf-oUK-xc")})]})]}),(0,t.jsxs)("div",{className:"card",style:{display:"grid",gap:6},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Session :"})," ",e?"pr\xe9sente ✅":"absente ❌"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"User :"})," ",n?n.email||n.id:"—"]}),(0,t.jsx)("button",{className:"btn",onClick:u,children:"Rafra\xeechir"}),(0,t.jsx)("button",{className:"btn",onClick:()=>i.OQ.auth.signOut(),children:"Se d\xe9connecter"}),(0,t.jsx)("a",{className:"btn",href:"/login",children:"Aller au login"})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("b",{children:"\xc9v\xe9nements :"}),(0,t.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:l.join("\n")})]})]})}},5626:function(e,s,n){"use strict";n.d(s,{OQ:function(){return r}});var t=n(6887);let a="https://yylkwfikfbottngglaxj.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl5bGt3ZmlrZmJvdHRuZ2dsYXhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1NjUwNzAsImV4cCI6MjA3MjE0MTA3MH0.h-GTmBH9onVHNJLLuafw9jwS9G8azVaQGelf-oUK-xc",r=null;if(a&&i)try{console.log("\uD83D\uDD17 Connexion \xe0 Supabase r\xe9el:",a),r=(0,t.eI)(a,i,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}catch(e){console.error("[Supabase] Erreur lors de la cr\xe9ation du client",e instanceof Error?e:Error(String(e)))}else{let e=[!a&&"NEXT_PUBLIC_SUPABASE_URL",!i&&"NEXT_PUBLIC_SUPABASE_ANON_KEY"].filter(Boolean);Error("Supabase non configur\xe9. Variables manquantes: ".concat(e.join(", ")))}}},function(e){e.O(0,[887,971,23,744],function(){return e(e.s=8233)}),_N_E=e.O()}]);