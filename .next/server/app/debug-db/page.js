(()=>{var e={};e.id=456,e.ids=[456],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},7384:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.ZP,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>u,tree:()=>l}),r(1217),r(3909),r(6926),r(5866);var s=r(3191),n=r(8716),i=r(5383),a=r(5231),o={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);r.d(t,o);let l=["",{children:["debug-db",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1217)),"/workspaces/garde-manger-app/app/debug-db/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3909)),"/workspaces/garde-manger-app/app/layout.js"],error:[()=>Promise.resolve().then(r.bind(r,6926)),"/workspaces/garde-manger-app/app/error.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/garde-manger-app/app/debug-db/page.js"],d="/debug-db/page",p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/debug-db/page",pathname:"/debug-db",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},7428:(e,t,r)=>{Promise.resolve().then(r.bind(r,6180))},6180:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(326),n=r(7577),i=r(4122);function a(){let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[o,l]=(0,n.useState)(null),[c,d]=(0,n.useState)([]);async function p(){try{for(let e of(console.log("Test de connexion \xe0 Supabase..."),[{name:"Toutes colonnes",query:i.OQ.from("recipes").select("*").limit(5)},{name:"Colonnes basiques",query:i.OQ.from("recipes").select("id, title, name").limit(5)},{name:"Sans limite",query:i.OQ.from("recipes").select("id, title").limit(1)}])){console.log(`Test: ${e.name}`);let{data:t,error:r}=await e.query;if(r)console.error(`Erreur ${e.name}:`,r),l(r.message);else if(console.log(`Succ\xe8s ${e.name}:`,t),t&&t.length>0){a(t),d(Object.keys(t[0]));break}}let{data:e}=await i.OQ.from("recipe_categories").select("*").limit(3),{data:s}=await i.OQ.from("cuisine_types").select("*").limit(3),{data:n}=await i.OQ.from("inventory_lots").select("*").limit(3),{data:o}=await i.OQ.from("canonical_foods").select("*").limit(3);t([{name:"recipes",count:r.length,sample:r[0]},{name:"recipe_categories",count:e?.length||0,sample:e?.[0]},{name:"cuisine_types",count:s?.length||0,sample:s?.[0]},{name:"inventory_lots",count:n?.length||0,sample:n?.[0]},{name:"canonical_foods",count:o?.length||0,sample:o?.[0]}])}catch(e){console.error("Erreur lors du test de la base:",e),l(e.message)}}async function u(){try{let{data:e,error:t}=await i.OQ.from("recipes").insert({title:"Recette de Test",name:"Recette de Test",slug:"recette-test",description:"Une recette de test pour v\xe9rifier l'insertion",prep_min:15,cook_min:30,rest_min:0,servings:4,myko_score:75,instructions:"Instructions de test",is_active:!0}).select();t?(console.error("Erreur insertion:",t),alert(`Erreur: ${t.message}`)):(console.log("Recette ins\xe9r\xe9e:",e),alert("Recette ins\xe9r\xe9e avec succ\xe8s!"),p())}catch(e){console.error("Erreur:",e),alert(`Erreur: ${e.message}`)}}return(0,s.jsxs)("div",{style:{padding:"20px",fontFamily:"monospace"},children:[s.jsx("h1",{children:"D\xe9bogage Base de Donn\xe9es"}),(0,s.jsxs)("section",{style:{marginBottom:"30px"},children:[s.jsx("h2",{children:"Connexion Supabase"}),(0,s.jsxs)("p",{children:["URL: ","https://yylkwfikfbottngglaxj.supabase.co"]}),(0,s.jsxs)("p",{children:["Cl\xe9: ","D\xe9finie"]})]}),(0,s.jsxs)("section",{style:{marginBottom:"30px"},children:[s.jsx("h2",{children:"Tables disponibles"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"15px"},children:e.map((e,t)=>(0,s.jsxs)("div",{style:{border:"1px solid #ccc",padding:"10px",borderRadius:"5px"},children:[s.jsx("h3",{children:e.name}),(0,s.jsxs)("p",{children:["Nombre d'enregistrements: ",e.count]}),e.sample&&(0,s.jsxs)("details",{children:[s.jsx("summary",{children:"\xc9chantillon"}),s.jsx("pre",{style:{fontSize:"11px",overflow:"auto"},children:JSON.stringify(e.sample,null,2)})]})]},t))})]}),(0,s.jsxs)("section",{style:{marginBottom:"30px"},children:[s.jsx("h2",{children:"Recettes trouv\xe9es"}),o&&(0,s.jsxs)("p",{style:{color:"red"},children:["Erreur: ",o]}),(0,s.jsxs)("p",{children:["Nombre: ",r.length]}),c.length>0&&(0,s.jsxs)("details",{children:[s.jsx("summary",{children:"Colonnes disponibles dans recipes"}),s.jsx("ul",{children:c.map((e,t)=>s.jsx("li",{children:e},t))})]}),r.length>0&&(0,s.jsxs)("details",{children:[s.jsx("summary",{children:"Premi\xe8re recette"}),s.jsx("pre",{style:{fontSize:"11px",overflow:"auto"},children:JSON.stringify(r[0],null,2)})]})]}),(0,s.jsxs)("section",{children:[s.jsx("h2",{children:"Actions"}),s.jsx("button",{onClick:p,style:{marginRight:"10px",padding:"10px"},children:"Recharger"}),s.jsx("button",{onClick:u,style:{padding:"10px"},children:"Ins\xe9rer recette de test"})]})]})}},1217:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>i,default:()=>o});var s=r(8570);let n=(0,s.createProxy)(String.raw`/workspaces/garde-manger-app/app/debug-db/page.js`),{__esModule:i,$$typeof:a}=n;n.default;let o=(0,s.createProxy)(String.raw`/workspaces/garde-manger-app/app/debug-db/page.js#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,618,146],()=>r(7384));module.exports=s})();